"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[1613,54390,98655,15944,26311,83325,94967],{54390:(e,r,t)=>{t.r(r),t.d(r,{GeometryBase:()=>o});class o{constructor(e){this.scene=void 0,this.scene=e,this.scene.add(this)}render(e){}}},1613:(e,r,t)=>{t.r(r),t.d(r,{GridAxis:()=>l});var o=t(44976),s=t(26311),i=t(83325),n=t(54390),a=t(15944);class h extends i.Shader{constructor(e,r,t,o){if(super(e,r,t),this.program){this.uniformLoc.uAngle=e.getUniformLocation(this.program,"uAngle");var s=e.getUniformLocation(this.program,"uColor");e.uniform3fv(s,o)}e.useProgram(null)}set(e){return this.gl.uniform1f(this.uniformLoc.uAngle,e),this}renderModal(e){return this.gl.bindVertexArray(e.mesh.vao),e.mesh.indexCount?this.gl.drawElements(e.mesh.drawMode,e.mesh.indexCount,this.gl.UNSIGNED_SHORT,0):this.gl.drawArrays(e.mesh.drawMode,0,e.mesh.vertexCount),this.gl.bindVertexArray(null),this}}class l extends n.GeometryBase{constructor(e){super(e.scene),this.v="#version 300 es\n    in vec3 a_position;\t//Standard position data.\n    layout(location=4) in float a_color;\t//Will hold the 4th custom position of the custom position buffer.\n\n    uniform vec3 uColor[4];\t//Color Array\n    uniform float uAngle;\n\n    out lowp vec4 color;\t//Color to send to fragment shader.\n\n    void main(void) {\n        color = vec4(uColor[ int(a_color) ],1.0); //Using the 4th float as a color index.\n        // gl_Position = vec4(a_position, 1.0);\n        gl_Position = vec4(cos(uAngle) * 0.3 + a_position.x, sin(uAngle) * 0.3 + a_position.y, a_position.z, 1.0);\n    }\n    ",this.f="#version 300 es\n    precision mediump float;\n\n    in vec4 color;\n    out vec4 finalColor;\n\n    void main(void) {\n        finalColor = color;\n        // finalColor = vec4(1, 0, 0, 1);\n    }\n    ",this.app=void 0,this.gl=void 0,this.mesh=void 0,this.modal=void 0,this.shader=void 0,this.ro=0,this.app=e,this.gl=e.canvas.gl,this.initShader(this.gl)}GetVAO(){var e,r=[],t=.9;for(let o=0;o<=10;o++)e=.18*o-.9,r.push(e),r.push(t),r.push(0),r.push(0),r.push(e),r.push(-.9),r.push(0),r.push(1),e=t-.18*o,r.push(-.9),r.push(e),r.push(0),r.push(0),r.push(t),r.push(e),r.push(0),r.push(1);r.push(-.9),r.push(-.9),r.push(0),r.push(2),r.push(t),r.push(t),r.push(0),r.push(2),r.push(-.9),r.push(t),r.push(0),r.push(3),r.push(t),r.push(-.9),r.push(0),r.push(3),this.mesh=new o.RTN,this.mesh.drawMode=this.gl.LINES,this.mesh.vao=this.gl.createVertexArray(),this.mesh.vertexComponentLen=4,this.mesh.vertexCount=r.length/this.mesh.vertexComponentLen;let s=Float32Array.BYTES_PER_ELEMENT*this.mesh.vertexComponentLen;return this.mesh.bufVertices=this.gl.createBuffer(),this.gl.bindVertexArray(this.mesh.vao),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.mesh.bufVertices),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(r),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(a.ATTR.ATTR_POSITION_LOC),this.gl.enableVertexAttribArray(a.ATTR.ATTR_COLOR_LOC),this.gl.vertexAttribPointer(a.ATTR.ATTR_POSITION_LOC,3,this.gl.FLOAT,!1,s,0),this.gl.vertexAttribPointer(a.ATTR.ATTR_COLOR_LOC,1,this.gl.FLOAT,!1,s,3*Float32Array.BYTES_PER_ELEMENT),this.gl.bindVertexArray(null),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.mesh}initShader(e){this.shader=new h(e,this.v,this.f,[.8,.8,.8,1,0,0,0,1,0,0,0,1]),this.mesh=this.GetVAO(),this.modal=new s.Modal(this.mesh)}render(e){this.shader.activate(),this.ro+=.04,this.shader.set(this.ro),this.shader.renderModal(this.modal)}}},98655:(e,r,t)=>{t.r(r),t.d(r,{GLShaderCommon:()=>o});class o{static getShaderProgram(e,r,t){let s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=o.createShader(e,e.VERTEX_SHADER,r),n=o.createShader(e,e.FRAGMENT_SHADER,t);if(i&&n){let r=o.createProgram(e,i,n,s);return r||(console.error("vertex fragment shader error"),null)}return console.error("vertex fragment shader error"),null}static getShader(e,r,t){const o=e.createShader(r);return null===o?null:(e.shaderSource(o,t),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)?o:(console.log("An error occurred compiling the shaders:"+e.getShaderInfoLog(o)),e.deleteShader(o),null))}static createProgram(e,r,t){let o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const s=e.createProgram();if(null===s)return null;if(e.attachShader(s,r),e.attachShader(s,t),e.linkProgram(s),!e.getProgramParameter(s,e.LINK_STATUS)){const o=e.getProgramInfoLog(s);return console.log("Failed to link program: "+o),e.deleteProgram(s),e.deleteShader(t),e.deleteShader(r),null}return o&&(e.validateProgram(s),!e.getProgramParameter(s,e.VALIDATE_STATUS))?(console.error("Failed to validate program",e.getProgramInfoLog(s)),e.deleteProgram(s),e.deleteShader(t),e.deleteShader(r),null):(e.deleteShader(t),e.deleteShader(r),s)}static createShader(e,r,t){const o=e.createShader(r);if(null===o)return null;e.shaderSource(o,t),e.compileShader(o);return e.getShaderParameter(o,e.COMPILE_STATUS)?o:(console.log(e.getShaderInfoLog(o)),e.deleteShader(o),null)}static createShaderFromPath(e,r,t){const s=e.createShader(r);if(null===s)return null;e.shaderSource(s,o.getSourceSynch(t)),e.compileShader(s);return e.getShaderParameter(s,e.COMPILE_STATUS)?s:(console.log(e.getShaderInfoLog(s)),e.deleteShader(s),null)}static getSourceSynch(e){const r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),200===r.status?r.responseText:null}static loadImage(e,r){const t=new Image;t.onload=function(){r(null,t)},t.src=e}}},15944:(e,r,t)=>{let o;t.r(r),t.d(r,{ATTR:()=>o,AttribLocations:()=>s}),function(e){e.ATTR_POSITION_NAME="a_position",e[e.ATTR_POSITION_LOC=0]="ATTR_POSITION_LOC",e.ATTR_NORMAL_NAME="a_norm",e[e.ATTR_NORMAL_LOC=1]="ATTR_NORMAL_LOC",e.ATTR_UV_NAME="a_uv",e[e.ATTR_UV_LOC=2]="ATTR_UV_LOC",e[e.ATTR_COLOR_LOC=4]="ATTR_COLOR_LOC",e.ATTR_COLOR_NAME="a_color"}(o||(o={}));class s{constructor(e,r){this.position=void 0,this.normal=void 0,this.uv=void 0,this.position=e.getAttribLocation(r,o.ATTR_NORMAL_NAME),this.normal=e.getAttribLocation(r,o.ATTR_NORMAL_NAME),this.uv=e.getAttribLocation(r,o.ATTR_UV_NAME)}}},26311:(e,r,t)=>{t.r(r),t.d(r,{Modal:()=>o});class o{constructor(e){this.mesh=void 0,this.mesh=e}preRender(){}}},83325:(e,r,t)=>{t.r(r),t.d(r,{Shader:()=>n,UniformLoc:()=>i});var o=t(98655),s=t(15944);class i{constructor(){this.uPointSize=void 0,this.uAngle=void 0}}class n{constructor(e,r,t){this.gl=void 0,this.program=void 0,this.attribLoc=void 0,this.uniformLoc=void 0,this.program=o.GLShaderCommon.getShaderProgram(e,r,t,!0),null!=this.program&&(this.gl=e,e.useProgram(this.program),this.attribLoc=new s.AttribLocations(e,this.program),this.uniformLoc=new i)}activate(){return this.gl.useProgram(this.program),this}deactivate(){return this.gl.useProgram(null),this}dispose(){this.gl.getParameter(this.gl.CURRENT_PROGRAM)===this.program&&this.gl.useProgram(null),this.gl.deleteProgram(this.program)}preRender(){}renderModal(e){return this.gl.bindVertexArray(e.mesh.vao),e.mesh.indexCount?this.gl.drawElements(e.mesh.drawMode,e.mesh.indexCount,this.gl.UNSIGNED_SHORT,0):this.gl.drawArrays(e.mesh.drawMode,0,e.mesh.vertexCount),this.gl.bindVertexArray(null),this}}},44976:(e,r,t)=>{t.r(r),t.d(r,{DRAW_MODE:()=>s,RTN:()=>i,VAO:()=>n});var o=t(15944);let s;s||(s={});class i{constructor(){this.name=void 0,this.vao=void 0,this.bufVertices=void 0,this.bufNormals=void 0,this.bufUV=void 0,this.bufIndex=void 0,this.vertexComponentLen=void 0,this.vertexCount=void 0,this.indexCount=void 0,this.drawMode=void 0}}class n{static createMeshVAO(e,r,t,s,n,a){let h=new i;return h.name=r,h.drawMode=e.TRIANGLES,h.vao=e.createVertexArray(),e.bindVertexArray(h.vao),void 0!==t&&null!=t&&(h.bufVertices=e.createBuffer(),h.vertexComponentLen=3,h.vertexCount=t.length/h.vertexComponentLen,e.bindBuffer(e.ARRAY_BUFFER,h.bufVertices),e.bufferData(e.ARRAY_BUFFER,new Float32Array(t),e.STATIC_DRAW),e.enableVertexAttribArray(o.ATTR.ATTR_POSITION_LOC),e.vertexAttribPointer(o.ATTR.ATTR_POSITION_LOC,3,e.FLOAT,!1,0,0)),void 0!==n&&null!=n&&(h.bufNormals=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,h.bufNormals),e.bufferData(e.ARRAY_BUFFER,new Float32Array(n),e.STATIC_DRAW),e.enableVertexAttribArray(o.ATTR.ATTR_NORMAL_LOC),e.vertexAttribPointer(o.ATTR.ATTR_NORMAL_LOC,3,e.FLOAT,!1,0,0)),void 0!==a&&null!=a&&(h.bufUV=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,h.bufUV),e.bufferData(e.ARRAY_BUFFER,new Float32Array(a),e.STATIC_DRAW),e.enableVertexAttribArray(o.ATTR.ATTR_UV_LOC),e.vertexAttribPointer(o.ATTR.ATTR_UV_LOC,2,e.FLOAT,!1,0,0)),void 0!==s&&null!=s&&(h.bufIndex=e.createBuffer(),h.indexCount=s.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,h.bufIndex),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(s),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),e.bindVertexArray(null),e.bindBuffer(e.ARRAY_BUFFER,null),h}constructor(){}}}}]);
//# sourceMappingURL=1613.13d943b0.chunk.js.map
"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[20803],{20803:(t,e,i)=>{i.r(e),i.d(e,{Renderer:()=>n,Solution:()=>o});var s=i(55913);class o{constructor(t){this.divHost=void 0,this.renderer=void 0,this.divHost=document.getElementById(t),this.divHost.style.display="flex",this.divHost.style.alignItems="center";const e=document.createElement("div");e.style.marginLeft="auto",e.style.marginRight="auto",e.style.backgroundColor="#555",e.style.width="1000px",e.style.height="600px",this.divHost.appendChild(e),this.renderer=new n(e)}destroy(){if(this.divHost)try{for(;this.divHost.firstChild;)this.divHost.removeChild(this.divHost.firstChild)}catch(t){console.error("Error in destroy method:",t)}else console.warn("divHost is undefined in destroy method")}}class n extends s.bb{constructor(t){super(t),this.canvas.style.position="relative",this.canvas.style.width="100%",this.canvas.style.height="100%",this.start();const e=this.canvas,i=this.ctx,s=e.width,o=e.height,n=o/2,r=.01,a=o/4,l=[];navigator.mediaDevices.getUserMedia({audio:!0}).then((t=>{const e=new(window.AudioContext||window.webkitAudioContext),h=e.createAnalyser();e.createMediaStreamSource(t).connect(h),h.fftSize=1024;const d=h.frequencyBinCount,c=new Uint8Array(d);!function t(){requestAnimationFrame(t),h.getByteFrequencyData(c);const f=Math.max(...c),y=c.indexOf(f),u=e.sampleRate/2,v=y/d*u;l.push(v),l.length>s&&l.shift(),i.clearRect(0,0,s,o),i.fillStyle="#000",i.fillRect(0,0,s,o),i.strokeStyle="#555",i.lineWidth=1,i.beginPath(),i.moveTo(0,n),i.lineTo(s,n),i.stroke(),i.strokeStyle="#ff0000",i.lineWidth=2,i.beginPath();for(let e=0;e<l.length;e++){const t=e*r,s=n-Math.sin(2*Math.PI*l[e]*t)*a;0===e?i.moveTo(e,s):i.lineTo(e,s)}i.stroke(),i.strokeStyle="#00ff00",i.lineWidth=2,i.beginPath();for(let e=0;e<l.length;e++){const t=e*r,s=n-Math.cos(2*Math.PI*l[e]*t)*a;0===e?i.moveTo(e,s):i.lineTo(e,s)}i.stroke(),i.fillStyle="#ffffff",i.font="16px Arial",i.fillText("Current Frequency: ".concat(v.toFixed(2)," Hz"),10,20)}()})).catch((t=>{console.error("\ub9c8\uc774\ud06c \uc811\uadfc \uc2e4\ud328:",t)}))}render(t){}}}}]);
//# sourceMappingURL=20803.e054b04d.chunk.js.map
"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[36009,19951],{71277:(e,t,l)=>{function a(e){return e=e||globalThis.location.hostname,c.some((t=>{var l;return null!=(null===(l=e)||void 0===l?void 0:l.match(t))}))}function n(e,t){return e&&(t=t||globalThis.location.hostname)?null!=t.match(s)||null!=t.match(r)?e.replace("static.arcgis.com","staticdev.arcgis.com"):null!=t.match(o)||null!=t.match(i)?e.replace("static.arcgis.com","staticqa.arcgis.com"):e:e}l.d(t,{XO:()=>a,pJ:()=>n});const s=/^devext.arcgis.com$/,o=/^qaext.arcgis.com$/,r=/^[\w-]*\.mapsdevext.arcgis.com$/,i=/^[\w-]*\.mapsqa.arcgis.com$/,c=[/^([\w-]*\.)?[\w-]*\.zrh-dev-local.esri.com$/,s,o,/^jsapps.esri.com$/,r,i]},36009:(e,t,l)=>{l.r(t),l.d(t,{getPatternDescriptor:()=>Z,getSizeFromOptions:()=>D,getSymbolLayerFill:()=>z,previewSymbol3D:()=>O});var a=l(18489),n=l(65905),s=l(86950),o=(l(93169),l(10064)),r=l(32718),i=l(92026),c=l(66978),u=l(17842),p=l(79563),h=l(29122),m=l(73627),y=l(37817),f=l(97631),d=l(74579),b=l(19951);const v=y.b_.size,g=y.b_.maxSize,w=y.b_.maxOutlineSize,k=y.b_.lineWidth,x=y.b_.tallSymbolWidth;function M(e){const t=e.outline,l=(0,i.pC)(e.material)?e.material.color:null,a=(0,i.pC)(l)?l.toHex():null;if((0,i.Wi)(t)||"pattern"in t&&(0,i.pC)(t.pattern)&&"style"===t.pattern.type&&"none"===t.pattern.style)return"fill"===e.type&&"#ffffff"===a?{color:"#bdc3c7",width:.75}:null;const n=(0,u.F2)(t.size)||0;return{color:"rgba("+((0,i.pC)(t.color)?t.color.toRgba():"255,255,255,1")+")",width:Math.min(n,w),style:"pattern"in t&&(0,i.pC)(t.pattern)&&"style"===t.pattern.type?(0,p.Sp)(t.pattern.style):null,join:"butt",cap:"patternCap"in t?t.patternCap:"butt"}}function S(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const l=e.a,a=(0,s._Y)(e),n=a.h,o=a.s/t,r=100-(100-a.v)/t,{r:i,g:c,b:u}=(0,s.xr)({h:n,s:o,v:r});return[i,c,u,l]}function L(e){return"water"===e.type?(0,i.Wi)(e.color)?null:e.color:(0,i.Wi)(e.material)||(0,i.Wi)(e.material.color)?null:e.material.color}function z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const l=L(e);if(!l){if("fill"===e.type)return null;const l=p.Ne.r,a=(0,y.uH)(l,t);return[a,a,a,100]}const a=l.toRgba();for(let n=0;n<3;n++)a[n]=(0,y.uH)(a[n],t);return a}async function Z(e,t){const l=e.style;return"none"===l?null:{type:"pattern",x:0,y:0,src:await(0,p.Od)((0,n.V)("esri/symbols/patterns/".concat(l,".png")),t.toCss(!0)),width:5,height:5}}function C(e){return e.outline?M(e):{color:"rgba(0, 0, 0, 1)",width:1.5}}function j(e,t){const l=L(e);if(!l)return null;let a="rgba(";return a+=(0,y.uH)(l.r,t)+",",a+=(0,y.uH)(l.g,t)+",",a+=(0,y.uH)(l.b,t)+",",a+l.a+");"}function N(e,t){const l=j(e,t);return l?"pattern"in e&&(0,i.pC)(e.pattern)&&"style"===e.pattern.type&&"none"===e.pattern.style?null:{color:l,width:Math.min(e.size?(0,u.F2)(e.size):.75,w),style:"pattern"in e&&(0,i.pC)(e.pattern)&&"style"===e.pattern.type?(0,p.Sp)(e.pattern.style):null,cap:"cap"in e?e.cap:null,join:"join"in e?"miter"===e.join?(0,u.F2)(2):e.join:null}:{}}function P(e,t,l){const a=null!=l?.75*l:0;return{type:"linear",x1:a?.25*a:0,y1:a?.5*a:0,x2:a||4,y2:a?.5*a:4,colors:[{color:e,offset:0},{color:t,offset:1}]}}function D(e){const t="number"==typeof(null===e||void 0===e?void 0:e.size)?null===e||void 0===e?void 0:e.size:null;return t?(0,u.F2)(t):null}function F(e,t){var l;const a=D(t),s=null!==t&&void 0!==t&&t.maxSize?(0,u.F2)(t.maxSize):null,o=null!==(l=null===t||void 0===t?void 0:t.disableUpsampling)&&void 0!==l&&l,i=e.symbolLayers,p=[];let w=0,k=0;const S=i.getItemAt(i.length-1);let L;return S&&"icon"===S.type&&(L=S.size&&(0,u.F2)(S.size)),i.forEach((l=>{if("icon"!==l.type&&"object"!==l.type)return;const r="icon"===l.type?l.size&&(0,u.F2)(l.size):0,i=a||r?Math.ceil(Math.min(a||r,s||g)):v;if(l&&l.resource&&l.resource.href){const t=function(e,t){const l=t&&t.resource,a=l&&l.href;if(e.thumbnail&&e.thumbnail.url)return Promise.resolve(e.thumbnail.url);if(a&&"object"!==t.type)return Promise.resolve((0,d.nf)(e,t));const s=(0,n.V)("esri/images/Legend/legend3dsymboldefault.png");return e.styleOrigin&&(e.styleOrigin.styleName||e.styleOrigin.styleUrl)?(0,b.resolveWebStyleSymbol)(e.styleOrigin,{portal:e.styleOrigin.portal},"webRef").catch((e=>e)).then((e=>{var t;return(null===e||void 0===e||null===(t=e.thumbnail)||void 0===t?void 0:t.url)||s})):Promise.resolve(s)}(e,l).then((e=>{const t=l.get("material.color"),a=function(e){return"icon"===e.type?"multiply":"tint"}(l);return(0,f.r)(e,i,t,a,o)})).then((e=>{const t=e.width,l=e.height;return w=Math.max(w,t),k=Math.max(k,l),[{shape:{type:"image",x:0,y:0,width:t,height:l,src:e.url},fill:null,stroke:null}]}));p.push(t)}else{var c;let e=i;"icon"===l.type&&L&&a&&(e=i*(r/L));const n="tall"===(null===t||void 0===t?void 0:t.symbolConfig)||(null===t||void 0===t||null===(c=t.symbolConfig)||void 0===c?void 0:c.isTall)||"object"===l.type&&function(e){const t=e.depth,l=e.height,a=e.width;return 0!==a&&0!==t&&0!==l&&a===t&&null!=a&&null!=l&&a<l}(l);w=Math.max(w,n?x:e),k=Math.max(k,e),p.push(Promise.resolve(function(e,t,l){const a=[];if(!e)return a;switch(e.type){case"icon":{const l=0,n=0,s=t,o=t;switch(e.resource&&e.resource.primitive||h.S){case"circle":a.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:z(e,0),stroke:M(e)});break;case"square":a.push({shape:{type:"path",path:[{command:"M",values:[l,o]},{command:"L",values:[l,n]},{command:"L",values:[s,n]},{command:"L",values:[s,o]},{command:"Z",values:[]}]},fill:z(e,0),stroke:M(e)});break;case"triangle":a.push({shape:{type:"path",path:[{command:"M",values:[l,o]},{command:"L",values:[.5*s,n]},{command:"L",values:[s,o]},{command:"Z",values:[]}]},fill:z(e,0),stroke:M(e)});break;case"cross":a.push({shape:{type:"path",path:[{command:"M",values:[.5*s,n]},{command:"L",values:[.5*s,o]},{command:"M",values:[l,.5*o]},{command:"L",values:[s,.5*o]}]},stroke:C(e)});break;case"x":a.push({shape:{type:"path",path:[{command:"M",values:[l,n]},{command:"L",values:[s,o]},{command:"M",values:[s,n]},{command:"L",values:[l,o]}]},stroke:C(e)});break;case"kite":a.push({shape:{type:"path",path:[{command:"M",values:[l,.5*o]},{command:"L",values:[.5*s,n]},{command:"L",values:[s,.5*o]},{command:"L",values:[.5*s,o]},{command:"Z",values:[]}]},fill:z(e,0),stroke:M(e)})}break}case"object":switch(e.resource&&e.resource.primitive||m.S){case"cone":{const n=P(z(e,0),z(e,-.6),l?x:t),s=(0,y.TE)(t,l);a.push({shape:s[0],fill:n}),a.push({shape:s[1],fill:n});break}case"inverted-cone":{const l=z(e,0),n=P(l,z(e,-.6),t),s=(0,y.DY)(t);a.push({shape:s[0],fill:n}),a.push({shape:s[1],fill:l});break}case"cube":{const n=(0,y.Pc)(t,l);a.push({shape:n[0],fill:z(e,0)}),a.push({shape:n[1],fill:z(e,-.3)}),a.push({shape:n[2],fill:z(e,-.5)});break}case"cylinder":{const n=P(z(e,0),z(e,-.6),l?x:t),s=(0,y.EB)(t,l);a.push({shape:s[0],fill:n}),a.push({shape:s[1],fill:n}),a.push({shape:s[2],fill:z(e,0)});break}case"diamond":{const l=(0,y.XX)(t);a.push({shape:l[0],fill:z(e,-.3)}),a.push({shape:l[1],fill:z(e,0)}),a.push({shape:l[2],fill:z(e,-.3)}),a.push({shape:l[3],fill:z(e,-.7)});break}case"sphere":{const l=P(z(e,0),z(e,-.6));l.x1=0,l.y1=0,l.x2=.25*t,l.y2=.25*t,a.push({shape:{type:"circle",cx:0,cy:0,r:.5*t},fill:l});break}case"tetrahedron":{const l=(0,y.tp)(t);a.push({shape:l[0],fill:z(e,-.3)}),a.push({shape:l[1],fill:z(e,0)}),a.push({shape:l[2],fill:z(e,-.6)});break}}}return a}(l,e,n)))}})),(0,c.as)(p).then((e=>{const l=[];return e.forEach((e=>{e.value?l.push(e.value):e.error&&r.Z.getLogger("esri.symbols.support.previewSymbol3D").warn("error while building swatchInfo!",e.error)})),(0,f.w)(l,[w,k],{node:t&&t.node,scale:!1,opacity:t&&t.opacity})}))}function O(e,t){if(0===e.symbolLayers.length)return Promise.reject(new o.Z("symbolPreview: renderPreviewHTML3D","No symbolLayers in the symbol."));switch(e.type){case"point-3d":return F(e,t);case"line-3d":return function(e,t){const l=e.symbolLayers,n=[],s=(0,d.YW)(e),o=D(t),r=(t&&t.maxSize?(0,u.F2)(t.maxSize):null)||w;let c,p=0,h=0;return l.forEach(((e,t)=>{if(!e)return;if("line"!==e.type&&"path"!==e.type)return;const l=[];switch(e.type){case"line":{const a=N(e,0);if((0,i.Wi)(a))break;const n=a&&a.width||0;0===t&&(c=n);const s=Math.min(o||n,r),u=0===t?s:o?s*(n/c):s,m=u>k/2?2*u:k;h=Math.max(h,u),p=Math.max(p,m),a.width=u,l.push({shape:{type:"path",path:[{command:"M",values:[0,.5*h]},{command:"L",values:[p,.5*h]}]},stroke:a});break}case"path":{const t=Math.min(o||v,r),n=z(e,0),s=z(e,-.2),i=j(e,-.4),c=i?{color:i,width:1}:{};if("quad"===e.profile){const t=e.width,o=e.height,r=(0,y.eb)(t&&o?t/o:1,0===o,0===t),i=(0,a.Z)((0,a.Z)({},c),{},{join:"bevel"});l.push({shape:r[0],fill:s,stroke:i}),l.push({shape:r[1],fill:s,stroke:i}),l.push({shape:r[2],fill:n,stroke:i})}else l.push({shape:y.JZ.pathSymbol3DLayer[0],fill:s,stroke:c}),l.push({shape:y.JZ.pathSymbol3DLayer[1],fill:n,stroke:c});h=Math.max(h,t),p=h}}n.push(l)})),Promise.resolve((0,f.w)(n,[p,h],{node:t&&t.node,scale:s,opacity:t&&t.opacity}))}(e,t);case"polygon-3d":case"mesh-3d":return async function(e,t){const l="mesh-3d"===e.type,n=e.symbolLayers,s=D(t),o=t&&t.maxSize?(0,u.F2)(t.maxSize):null,r=s||v,c=[];let p=0,h=0,m=!1;for(let u=0;u<n.length;u++){const e=n.getItemAt(u),t=[];if(l&&"fill"!==e.type)continue;const s=y.JZ.fill[0];switch(e.type){case"fill":{const a=M(e),n=Math.min(r,o||g);p=Math.max(p,n),h=Math.max(h,n),m=!0;let c=z(e,0);const u="pattern"in e?e.pattern:null,y=L(e);!l&&(0,i.pC)(u)&&"style"===u.type&&"solid"!==u.style&&y&&(c=await Z(u,y)),t.push({shape:s,fill:c,stroke:a});break}case"line":{const l=N(e,0);if((0,i.Wi)(l))break;const a={stroke:l,shape:s};p=Math.max(p,v),h=Math.max(h,v),t.push(a);break}case"extrude":{const l=(0,a.Z)({join:"round",width:1},N(e,-.4)),n=z(e,0),s=z(e,-.2),i=Math.min(r,o||g),c=(0,y.EV)(i);l.width=1,t.push({shape:c[0],fill:s,stroke:l}),t.push({shape:c[1],fill:s,stroke:l}),t.push({shape:c[2],fill:n,stroke:l});const u=v,m=.7*v+.5*i;p=Math.max(p,u),h=Math.max(h,m);break}case"water":{const l=(0,i.s3)(L(e)),a=S(l),n=S(l,2),s=S(l,3),c=(0,y.ht)();m=!0,t.push({shape:c[0],fill:a}),t.push({shape:c[1],fill:n}),t.push({shape:c[2],fill:s});const u=Math.min(r,o||g);p=Math.max(p,u),h=Math.max(h,u);break}}c.push(t)}return(0,f.w)(c,[p,h],{node:t&&t.node,scale:m,opacity:t&&t.opacity})}(e,t)}return Promise.reject(new o.Z("symbolPreview: swatchInfo3D","symbol not supported."))}},19951:(e,t,l)=>{l.r(t),l.d(t,{fetchSymbolFromStyle:()=>f,resolveWebStyleSymbol:()=>y});var a=l(51508),n=l(71277),s=l(10064),o=l(92026),r=l(35995),i=l(70032),c=l(53283),u=l(42283),p=l(1472),h=l(7623),m=l(81854);function y(e,t,l,a){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,l){const a=h.wm.replace(/\{SymbolName\}/gi,e.name),n=(0,o.pC)(t.portal)?t.portal:i.Z.getDefault();return(0,h.EJ)(a,l).then((e=>{const t=(0,h.KV)(e.data);return(0,u.im)(t,{portal:n,url:(0,r.mN)((0,r.Yd)(a)),origin:"portal-item"})}))}(e,t,a):(0,h.n2)(e,t,a).then((n=>f((0,o.s3)(n),e.name,t,l,a))):Promise.reject(new s.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function f(e,t,l,y,f){var d,b,v;const g=e.data,w=l&&(0,o.pC)(l.portal)?l.portal:i.Z.getDefault(),k={portal:w,url:(0,r.mN)(e.baseUrl),origin:"portal-item"},x=g.items.find((e=>e.name===t));if(!x){const e="The symbol name '".concat(t,"' could not be found");return Promise.reject(new s.Z("symbolstyleutils:symbol-name-not-found",e,{symbolName:t}))}let M=(0,c.f)((0,h.v9)(x,y),k),S=null!==(d=null===(b=x.thumbnail)||void 0===b?void 0:b.href)&&void 0!==d?d:null;const L=x.thumbnail&&x.thumbnail.imageData;(0,n.XO)()&&(M=null!==(v=(0,n.pJ)(M))&&void 0!==v?v:"",S=(0,n.pJ)(S));const z={portal:w,url:(0,r.mN)((0,r.Yd)(M)),origin:"portal-item"};return(0,h.EJ)(M,f).then((n=>{const s="cimRef"===y?(0,h.KV)(n.data):n.data,o=(0,u.im)(s,z);if(o&&(0,a.dU)(o)){if(S){const e=(0,c.f)(S,k);o.thumbnail=new m.p({url:e})}else L&&(o.thumbnail=new m.p({url:"data:image/png;base64,".concat(L)}));e.styleUrl?o.styleOrigin=new p.Z({portal:l.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(o.styleOrigin=new p.Z({portal:l.portal,styleName:e.styleName,name:t}))}return o}))}}}]);
//# sourceMappingURL=36009.7fdf73b9.chunk.js.map
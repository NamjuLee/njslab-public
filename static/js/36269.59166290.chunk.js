"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[36269],{36269:(t,s,e)=>{e.r(s),e.d(s,{Solution:()=>h});class i{constructor(t){this.div=void 0,this.renderer=void 0,this.pts=[],this.lns=[],this.t=0,this.div=document.getElementById(t),this.renderer=new a(t),this.renderer.pts=this.pts,this.renderer.initializeCamera({position:{x:0,y:0,z:0},rotation:{x:-Math.PI/4,y:-Math.PI/4},zoom:1,fov:500,offset:{x:0,y:0}}),this.renderer.setCameraPos("iso"),this.init(),this.update(),this.render()}ddd(){}init(){}update(){}render(){requestAnimationFrame((()=>{this.render()})),this.update(),this.renderer.render()}destroy(){try{for(;this.div&&this.div.lastElementChild;){const t=this.div.lastElementChild;this.div.removeChild(t)}}catch(t){console.error("Error removing child elements:",t)}}}class a{constructor(t){this.render=void 0,this.pts=[],this.camera=void 0,this.canvas=void 0,this.ctx=void 0,this.dragging=!1,this.panning=!1,this.lastMouseX=0,this.lastMouseY=0,this.panStartX=0,this.panStartY=0,this.handleMouseDown=t=>{2===t.button||0===t.button&&t.altKey?(this.panning=!0,this.panStartX=t.clientX-this.camera.offset.x,this.panStartY=t.clientY-this.camera.offset.y):0===t.button&&(this.dragging=!0),this.lastMouseX=t.clientX,this.lastMouseY=t.clientY},this.handleMouseMove=t=>{if(this.dragging){const s=t.clientX-this.lastMouseX,e=t.clientY-this.lastMouseY;this.camera.rotation.x-=.01*e,this.camera.rotation.y+=.01*s,this.lastMouseX=t.clientX,this.lastMouseY=t.clientY}else this.panning&&(this.camera.offset.x=t.clientX-this.panStartX,this.camera.offset.y=t.clientY-this.panStartY)},this.handleMouseUp=()=>{this.dragging=!1,this.panning=!1},this.handleWheel=t=>{const s=t.clientX-this.canvas.getBoundingClientRect().left,e=t.clientY-this.canvas.getBoundingClientRect().top,i=this.camera.zoom,a=Math.max(.001,.02*this.camera.zoom);this.camera.zoom+=t.deltaY*-a,this.camera.zoom=Math.min(Math.max(this.camera.zoom,.1),50);const h=this.camera.zoom/i;this.camera.offset.x-=(s-this.canvas.width/2-this.camera.offset.x)*(h-1),this.camera.offset.y-=(e-this.canvas.height/2-this.camera.offset.y)*(h-1)},this.rendering=()=>{this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.pts.forEach((t=>{const s=this.rotate(t),e=this.project(s);let i=2*(this.camera.fov/(this.camera.fov+s.y)*this.camera.zoom);i=Math.max(.1,i),this.ctx.beginPath(),this.ctx.arc(e.x,e.y,i,0,2*Math.PI),this.ctx.fillStyle="rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", 1.0)"),this.ctx.fill()}))},this.render=()=>this.rendering();const s=document.getElementById(t),e=s.getBoundingClientRect();this.canvas=document.createElement("canvas"),this.canvas.width=e.width,this.canvas.height=e.height,s.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.setupEventListeners()}initializeCamera(t){this.camera=t,this.render()}setCameraPos(){const t=()=>{this.camera.rotation.x=-Math.PI/2,this.camera.rotation.y=0},s=()=>{this.camera.rotation.x=0,this.camera.rotation.y=0},e=()=>{this.camera.rotation.x=-Math.PI/4,this.camera.rotation.y=-Math.PI/4};switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"top"){case"top":t();break;case"front":s();break;case"iso":e()}this.render()}rotate(t){const s=Math.cos(this.camera.rotation.x),e=Math.sin(this.camera.rotation.x),i=Math.cos(this.camera.rotation.y),a=Math.sin(this.camera.rotation.y),h=t.r-127.5,n=t.g-127.5,r=t.b-127.5;let o=h*a+n*i,c=r*s-o*e;return o=r*e+o*s,{x:h*i-n*a,y:o,z:c}}project(t){const s=this.camera.fov/(this.camera.fov+t.y)*this.camera.zoom;return{x:t.x*s+this.canvas.width/2+this.camera.offset.x,y:-t.z*s+this.canvas.height/2+this.camera.offset.y}}setupEventListeners(){this.canvas.addEventListener("mousedown",this.handleMouseDown),this.canvas.addEventListener("mousemove",this.handleMouseMove),this.canvas.addEventListener("mouseup",this.handleMouseUp),this.canvas.addEventListener("wheel",this.handleWheel),this.canvas.addEventListener("contextmenu",(t=>t.preventDefault()))}}class h extends i{constructor(t){super(t)}init(){this.t=0,this.pts.push(...r())}update(){for(let t=0;t<this.pts.length;++t);this.t+=.01}}class n{constructor(t,s,e){this.r=0,this.g=0,this.b=0,this.radius=1,this.r=t,this.g=s,this.b=e}}const r=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4;const s=[];for(let e=0;e<t;e++){const t=new n(255*Math.random(),255*Math.random(),255*Math.random());s.push(t)}return s}}}]);
//# sourceMappingURL=36269.59166290.chunk.js.map
{"version":3,"file":"static/js/38951.c7d7da47.chunk.js","mappings":"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","sources":["../node_modules/@stencil/core/internal/client|lazy|/^/.//.*$/|include: //.entry/.js$/|exclude: //.system/.entry/.js$/|groupOptions: {}|namespace object","njslab/Env/NNA/View/NWindow/Core/Controller.ts","njslab/Env/NNA/View/NWindow/Core/Builder.ts","njslab/Env/NNA/View/NWindow/NWindow.ts","njslab/Env/NNA/Environment/JSAPI/IO/IO.ts","njslab/Env/NNA/Environment/JSAPI/Core/ArcGIS.ts","njslab/Env/NNA/Environment/JSAPI/Core/Projection.ts","njslab/Env/NNA/Environment/JSAPI/Core/Canvas.ts","njslab/Env/NNA/Environment/JSAPI/Core/EventInteraction.ts","njslab/Env/NNA/Environment/JSAPI/Renderer/Renderer.ts","njslab/Env/NNA/Environment/JSAPI/index.ts","njslab/Env/NNA/Application/Binding/BindingNNA.ts"],"sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(() => {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = () => ([]);\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 26031;\nmodule.exports = webpackEmptyAsyncContext;","import { NWindow } from '../NWindow';\r\nexport class Controller {\r\n    window: NWindow;\r\n    constructor(window: NWindow){\r\n        this.window = window;\r\n    }\r\n    public addIconTopPanel(param: {text: string, callBack: () => void, width: number }){\r\n        let btn = document.createElement('button');\r\n        // btn.style.height = '70px';\r\n        btn.style.width = `${param.width}px`;\r\n        btn.style.zIndex = '13;'\r\n        btn.style.position = 'relative';\r\n        btn.style.border = 'none';\r\n        btn.textContent = param.text;\r\n        btn.onclick = () => param.callBack();\r\n        this.window.builder.divFulldownArea.appendChild(btn);\r\n    }\r\n    public addToggleTopPanel(param: {text: string, callBack: () => void, width: number }){\r\n        let btn = document.createElement('button');\r\n        // btn.style.height = '70px';\r\n        btn.style.width = `${param.width}px`;\r\n        btn.style.zIndex = '13;'\r\n        btn.style.position = 'relative';\r\n        btn.style.border = 'none';\r\n        btn.textContent = param.text;\r\n        btn.onclick = () => param.callBack();\r\n        this.window.builder.divFulldownArea.appendChild(btn);\r\n    }\r\n    public addIconLeftPanel(param: {text: string, callBack: () => void }){\r\n        let btn = document.createElement('button');\r\n        btn.style.height = '50px';\r\n        btn.style.width = '50px';\r\n        btn.style.zIndex = '13;'\r\n        btn.style.position = 'relative';\r\n        btn.style.border = 'none';\r\n        btn.style.color = '#000000';\r\n        btn.style.background = '#fafafa';\r\n        btn.textContent = param.text;\r\n        btn.onclick = () => param.callBack();\r\n        btn.onmouseenter = () => {\r\n            btn.style.color = '#ffffff';\r\n            btn.style.background = '#888888';\r\n        }\r\n        btn.onmouseleave = () => {\r\n            btn.style.color = '#000000';\r\n            btn.style.background = '#fafafa';\r\n        }\r\n        this.window.builder.divLeftUI.appendChild(btn);\r\n    }\r\n    public addIconLeft(){\r\n\r\n    }\r\n}","\r\nimport { NWindow } from '../NWindow';\r\nexport class Builder {\r\n    window: NWindow;\r\n\r\n    divMain: HTMLDivElement;\r\n\r\n    \r\n    divMainBody: HTMLElement;\r\n    divTopArea: HTMLElement;\r\n    divFulldownArea: HTMLElement;\r\n    divLeftUI: HTMLElement;\r\n    divBottomArea: HTMLElement;\r\n\r\n    divForGraphicContext: HTMLElement;\r\n\r\n    private colorTopMenu = '#dfdfdf';\r\n    private colorBGmenu = '#f3f3f3';\r\n\r\n    constructor(window: NWindow){\r\n        this.window = window;\r\n    }\r\n\r\n    public initPanel(titleString: string) {\r\n        \r\n        this.initDivMain();\r\n        this.initDivTopArea();\r\n        this.initDivFulldownArea();\r\n\r\n        const box = document.createElement('div');\r\n        box.style.float = 'left';\r\n        box.style.height = '100%';\r\n        box.style.padding = '10px';\r\n        box.style.background = '#ff0000';\r\n        this.divTopArea.appendChild(box);\r\n\r\n        const title = document.createElement('div');\r\n        title.style.float = 'left';\r\n        title.style.padding = '10px';\r\n        title.textContent = titleString;\r\n        this.divTopArea.appendChild(title);\r\n\r\n        this.initDivContextArea();\r\n        this.initDivLeftArea();\r\n\r\n        this.divForGraphicContext = document.createElement('div');\r\n        this.divForGraphicContext.style.height = '100%';\r\n        this.divForGraphicContext.id = 'divForGraphicContext';\r\n        this.divMainBody.appendChild( this.divForGraphicContext);\r\n\r\n        \r\n        const closeBtn = document.createElement('button');\r\n        closeBtn.style.top = '0px';\r\n        closeBtn.style.left = '0px';\r\n        closeBtn.style.height = '20px';\r\n        closeBtn.style.width = '20px';\r\n        closeBtn.style.zIndex = '13';\r\n        closeBtn.style.float = 'right';\r\n        // closeBtn.style.position = 'absolute';\r\n        closeBtn.style.padding = '0px';\r\n        closeBtn.style.zIndex = '20';\r\n        // closeBtn.style.background = '#ff0000';\r\n        // closeBtn.style.color = '#ffffff';\r\n        closeBtn.textContent = 'X'\r\n        closeBtn.onclick = () => {\r\n            this.window.remove();\r\n        };\r\n        this.divTopArea.appendChild(closeBtn);\r\n\r\n        this.initBottomArea(this.divMain);\r\n\r\n\r\n\r\n        const bottomToolbarArea = document.createElement('div');\r\n        // bottomToolbarArea.style.background = '#ff0000';\r\n        bottomToolbarArea.style.height = '100%';\r\n        bottomToolbarArea.style.width = '100px';\r\n        bottomToolbarArea.style.float = 'left';\r\n        this.divBottomArea.appendChild(bottomToolbarArea);\r\n\r\n\r\n        const bottomTextarea = document.createElement('div');\r\n        // bottomTextarea.style.background = '#0ff0f0';\r\n        bottomTextarea.style.height = '100%';\r\n        bottomTextarea.style.width = '80%';\r\n        bottomTextarea.style.float = 'left';\r\n        this.divBottomArea.appendChild(bottomTextarea);\r\n\r\n\r\n    }\r\n    public initDivTopArea(){\r\n        let top = document.createElement('div');\r\n        top.style.width = '100%';\r\n        top.style.height = '40px';\r\n        top.style.background = this.colorTopMenu; // \r\n        // top.style.position = 'relative';\r\n        top.style.zIndex = '11';\r\n        // top.style.padding = '5px';\r\n        // top.textContent = 'NNA V3 controller'\r\n\r\n        let isPressed = false;\r\n        let prePos: number[] = [0 , 0];\r\n\r\n        top.ondrag = (e: MouseEvent) => {\r\n            // console.log('reall?', e);\r\n        }\r\n        top.onmouseenter = (e: MouseEvent ) => {\r\n            // console.log('onmouseenter?', e);\r\n        }\r\n        top.ondrag = (e: MouseEvent ) => {\r\n            // console.log('ondrag?', e);\r\n        }\r\n        top.onmousemove = (e: MouseEvent ) => {\r\n            if (isPressed) {\r\n                const xOff = e.clientX - prePos[0];\r\n                const yOff = e.clientY - prePos[1];\r\n                // console.log(xOff, yOff);\r\n                // console.log(+hostDiv.style.top);\r\n                // console.log(hostDiv.clientLeft, parseFloat(hostDiv.style.left));\r\n                this.divMain.style.top = parseFloat(this.divMain.style.top) + yOff +'px';\r\n                this.divMain.style.left = parseFloat(this.divMain.style.left) + xOff +'px';\r\n                // console.log('drgggg?', e);\r\n\r\n                prePos[0] = e.clientX;\r\n                prePos[1] = e.clientY;\r\n            }\r\n        }\r\n        top.onmousedown = (e: MouseEvent ) => {\r\n            // console.log('down', e);\r\n            prePos[0] = e.clientX;\r\n            prePos[1] = e.clientY;\r\n            isPressed = true;\r\n            this.window.updateZindex();\r\n        }\r\n        top.onmouseup = (e: MouseEvent ) => {\r\n            // console.log('up', e);\r\n            isPressed = false;\r\n        }\r\n        top.onmouseout = (e: MouseEvent ) => {\r\n            if (isPressed) {\r\n                // console.log('onmouseout', e);\r\n                const xOff = e.clientX - prePos[0];\r\n                const yOff = e.clientY - prePos[1];\r\n                // console.log(xOff, yOff);\r\n                // console.log(+hostDiv.style.top);\r\n                // console.log(hostDiv.clientLeft, parseFloat(hostDiv.style.left));\r\n                this.divMain.style.top = parseFloat(this.divMain.style.top) + yOff +'px';\r\n                this.divMain.style.left = parseFloat(this.divMain.style.left) + xOff +'px';\r\n                // console.log('drgggg?', e);\r\n\r\n                prePos[0] = e.clientX;\r\n                prePos[1] = e.clientY;\r\n            }\r\n        }\r\n        this.divTopArea = top;\r\n        this.divMain.appendChild(top);\r\n    }\r\n    public appendCloseTop() {\r\n\r\n    }\r\n\r\n    public initBottomArea(hostDiv: HTMLElement) {\r\n\r\n        let bootom = document.createElement('div');\r\n        bootom.style.top = parseFloat(hostDiv.style.height) - parseFloat(hostDiv.style.top) - 10 + 'px';\r\n        // top.style.left = parseFloat(hostDiv.style.width) - parseFloat(hostDiv.style.left) - 20 + 'px';\r\n        bootom.style.width = '100%';\r\n        bootom.style.height = '40px';\r\n        bootom.style.background = this.colorBGmenu;\r\n        // top.style.position = 'relative';\r\n        bootom.style.zIndex = '11';\r\n        // top.style.padding = '5px';\r\n        // top.textContent = 'L'\r\n\r\n        let isPressed = false;\r\n        let prePos: number[] = [0 , 0];\r\n\r\n        bootom.ondrag = (e: MouseEvent) => {\r\n            // console.log('reall?', e);\r\n        }\r\n        bootom.onmouseenter = (e: MouseEvent ) => {\r\n            // console.log('onmouseenter?', e);\r\n        }\r\n        bootom.ondrag = (e: MouseEvent ) => {\r\n            // console.log('ondrag?', e);\r\n        }\r\n        bootom.onmousemove = (e: MouseEvent ) => {\r\n            if (isPressed) {\r\n                const xOff = e.clientX - prePos[0];\r\n                const yOff = e.clientY - prePos[1];\r\n\r\n                hostDiv.style.width = parseFloat(hostDiv.style.width) + xOff + 'px';\r\n                hostDiv.style.height = parseFloat(hostDiv.style.height) + yOff + 'px';\r\n\r\n                // console.log('drgggg?', e, hostDiv.style.height);\r\n\r\n                bootom.style.top = parseFloat(bootom.style.top) + yOff + 'px';\r\n                bootom.style.left = parseFloat(bootom.style.left) + xOff + 'px';\r\n\r\n                prePos[0] = e.clientX;\r\n                prePos[1] = e.clientY;\r\n            }\r\n        }\r\n        bootom.onmousedown = (e: MouseEvent ) => {\r\n            // console.log('down', e);\r\n            prePos[0] = e.clientX;\r\n            prePos[1] = e.clientY;\r\n            isPressed = true;\r\n        }\r\n        bootom.onmouseup = (e: MouseEvent ) => {\r\n            // console.log('up', e);\r\n            isPressed = false;\r\n        }\r\n        bootom.onmouseout = (e: MouseEvent ) => {\r\n\r\n            // @ts-ignore\r\n            this.window.updateResize = setTimeout(() => {\r\n                if (isPressed) {\r\n                    // console.log('onmouseout', e);\r\n                    const xOff = e.clientX - prePos[0];\r\n                    const yOff = e.clientY - prePos[1];\r\n                    hostDiv.style.width = parseFloat(hostDiv.style.width) + xOff + 'px';\r\n                    hostDiv.style.height = parseFloat(hostDiv.style.height) + yOff + 'px';\r\n                    // console.log(hostDiv.style.width)\r\n    \r\n                    bootom.style.top = parseFloat(bootom.style.top) + yOff + 'px';\r\n                    bootom.style.left = parseFloat(bootom.style.left) + xOff + 'px';\r\n    \r\n                    prePos[0] = e.clientX;\r\n                    prePos[1] = e.clientY;\r\n                }\r\n            }, 300);\r\n\r\n            if (isPressed) {\r\n                // console.log('onmouseout', e);\r\n                const xOff = e.clientX - prePos[0];\r\n                const yOff = e.clientY - prePos[1];\r\n                hostDiv.style.width = parseFloat(hostDiv.style.width) + xOff + 'px';\r\n                hostDiv.style.height = parseFloat(hostDiv.style.height) + yOff + 'px';\r\n                // console.log(hostDiv.style.width)\r\n\r\n                bootom.style.top = parseFloat(bootom.style.top) + yOff + 'px';\r\n                bootom.style.left = parseFloat(bootom.style.left) + xOff + 'px';\r\n\r\n                prePos[0] = e.clientX;\r\n                prePos[1] = e.clientY;\r\n            }\r\n\r\n        }\r\n        this.divBottomArea = bootom;\r\n        hostDiv.appendChild(bootom);\r\n\r\n\r\n    }\r\n    public initDivMain(){\r\n        this.divMain = document.createElement('div');\r\n        this.divMain.style.width = `${this.window.width}px`;\r\n        this.divMain.style.height = `${this.window.height}px`;\r\n        // this.divMain.style.background = '#000000';\r\n        this.divMain.style.position = 'absolute';\r\n        this.divMain.style.zIndex = '10';\r\n        this.divMain.id = 'NWindow';\r\n\r\n        this.divMain.style.top = '100px'; //this.HTMLView.app.definition.app.divHost.style.top + 'px';\r\n        this.divMain.style.left = '200px'; // = this.HTMLView.app.definition.app.divHost.clientWidth + 'px';\r\n\r\n        this.window.divHost.appendChild(this.divMain);\r\n        \r\n    }\r\n    public initDivFulldownArea(){\r\n        this.divFulldownArea = document.createElement('div');\r\n        this.divFulldownArea.style.height = '50px';\r\n        this.divFulldownArea.style.width = '100%';\r\n        this.divFulldownArea.style.background = this.colorBGmenu;\r\n        // divUI.style.position = 'absolute';\r\n\r\n        this.divMain.appendChild(this.divFulldownArea);\r\n    }\r\n    public initDivContextArea(){\r\n        this.divMainBody = document.createElement('div');\r\n        this.divMainBody.style.height = '100%';\r\n        this.divMainBody.style.width = '100%';\r\n        // this.divMainBody.style.background = '#ff0000'; // this.colorBGmenu;\r\n        // this.divMainBody.style.position = 'absolute';\r\n        // this.divMainBody.style.position = 'relative';\r\n        this.divMainBody.id = 'divContext';\r\n        this.divMain.appendChild(this.divMainBody);\r\n    }\r\n    public initDivLeftArea() {\r\n        this.divLeftUI = document.createElement('div');\r\n        this.divLeftUI.style.height = '100%';\r\n        this.divLeftUI.style.width = '100px';\r\n        this.divLeftUI.style.background = this.colorBGmenu;\r\n        this.divLeftUI.style.float = 'left';\r\n\r\n        this.divMainBody.appendChild( this.divLeftUI);\r\n    }\r\n}\r\n","import { Controller } from './Core/Controller';\r\nimport { Builder } from './Core/Builder';\r\nexport class NWindow {\r\n\r\n    divHost: HTMLElement;\r\n    // div: HTMLElement;\r\n    \r\n    updateResize: number;\r\n\r\n\r\n    width: number = 600;\r\n    height: number = 400;\r\n\r\n    // colorBGmenu = '#f9f9f9';\r\n\r\n    controller: Controller;\r\n    builder: Builder;\r\n\r\n    constructor(divHost: HTMLElement, title = 'NJS Sandbox', width: number = 600, height: number = 400) {\r\n        this.divHost = divHost;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.controller = new Controller(this);\r\n        this.builder = new Builder(this);\r\n        this.builder.initPanel(title);\r\n    }\r\n    public addIconTopPanel(param: {text: string, callBack: () => void, width: number }){\r\n        this.controller.addIconTopPanel(param);\r\n    }\r\n    public addToggleTopPanel(param: {text: string, callBack: () => void, width: number }){\r\n        this.controller.addToggleTopPanel(param);\r\n    }\r\n    public addIconLeftPanel(param: {text: string, callBack: () => void }){\r\n        this.controller.addIconLeftPanel(param);\r\n    }\r\n    public addIconLeft(){\r\n        this.controller.addIconLeft();\r\n    }\r\n    public getContext(){\r\n        return this.builder.divForGraphicContext;\r\n    }\r\n    public remove(){\r\n        // this.HTMLView.networkUI = undefined;\r\n        this.divHost.removeChild(this.builder.divMain);\r\n    }\r\n    public updateZindex(){\r\n        // console.log('z index');\r\n    }\r\n    \r\n}","import { JSAPIEnv } from '../';\r\n\r\nexport class IO {\r\n    app: JSAPIEnv;\r\n    constructor(app: JSAPIEnv) {\r\n        this.app = app;\r\n        this.OpenGeoJsonEx01('');\r\n    }\r\n    public async OpenGeoJsonEx01(path: string) {\r\n        // if (njslabSandboxStatic.app) { if (njslabSandboxStatic.app.isProduction) { return; } }\r\n        // let file = 'data.txt';\r\n        // return fetch(`${NJSLoader.path}/json/${file}`)\r\n        // return fetch(file)\r\n        //     .then((response: Response) => {\r\n        //         return response.text();\r\n        //     })\r\n        //     // tslint:disable-next-line:no-any\r\n        //     .then((d: any) => {\r\n        //     //     console.log(d);\r\n        //         // njslabSandboxStatic.app.dataUtilities.SetData(d);\r\n        //     })\r\n        //     .catch((err: Error) => {\r\n        //     //     console.log(err);\r\n        //     });\r\n    }\r\n}","import {JSAPIEnv} from '..';\r\n\r\nexport class ArcGIS {\r\n\r\n    app: JSAPIEnv;\r\n    constructor(app: JSAPIEnv) {\r\n        this.app = app;\r\n        this.AppendMapViewEvent();\r\n    }\r\n    public AppendMapViewEvent() {\r\n        this.app.mapView.watch('extent', () => {\r\n            // console.log('extent')\r\n            //\r\n        });\r\n        this.app.mapView.watch('stationary', (e: boolean) => {\r\n            // console.log('stationary', e)\r\n            this.app.renderer.isPanning = !e;\r\n            //\r\n        });\r\n        this.app.mapView.watch('ready', (e: boolean) => {\r\n            // console.log(e);\r\n        });\r\n        this.app.mapView.on('resize', (e: any) => {\r\n            this.app.canvas.ResizeCanvas(e.width, e.height);\r\n            // console.log('resize', e.width, e.height)\r\n        });\r\n        // this.mapView.on('watch', (e: {}) => {\r\n        //   // this.app.ACController.ResizeCanvas(e.width, e.height);\r\n        //   console.log(e, 'dd');\r\n        // });\r\n    }\r\n}","import {JSAPIEnv} from '..';\r\n\r\nexport class Projection {\r\n    // static mercatorProjection: MercatorProjection;\r\n    app: JSAPIEnv\r\n    constructor(App: JSAPIEnv) {\r\n        // MercatorProjection.mercatorProjection = this;\r\n        // this.type = PROJECTION_TYPE.MERCATOR;\r\n        this.app = App;\r\n    }\r\n    // x = screenX \r\n    // y = screenY\r\n    // .....\r\n    // webM x\r\n    // webMercator\r\n    ToMap = (x: number, y: number): number[] => {\r\n        // console.log(this.app.mapView.toMap);\r\n        // console.log('----', x, y);\r\n        // this.app.sPoint.x = x;\r\n        // this.app.sPoint.y = y;\r\n\r\n        let mp = this.app.mapView.toMap({ x: x, y: y }).clone();\r\n        // console.log(mp);\r\n        return [mp.longitude, mp.latitude, mp.x, mp.y];\r\n        // return [this.app.nGraphics.mPoint.longitude, this.app.nGraphics.mPoint.latitude];\r\n        //  return [-1,-1]; \r\n    }\r\n    ToScreen = (long: number, lat: number): number[] => {\r\n        // console.log(long, lat);\r\n        this.app.mPoint.longitude = long; this.app.mPoint.latitude = lat;\r\n        this.app.mPoint.spatialReference = this.app.mapView.spatialReference;\r\n        // this.app.mPoint.spatialReference.wkid = 102100;\r\n        // console.log(this.app.mPoint);\r\n        let p = this.app.mapView.toScreen(this.app.mPoint);\r\n        // console.log(p);\r\n        return [p.x, p.y]; // screen X Y\r\n        //  return [-1,-1];\r\n\r\n    }\r\n    ToScreenFromProjected(long: number, lat: number): number[] {\r\n        // console.log(long, lat);\r\n        this.app.mPoint.x = long; this.app.mPoint.y = lat;\r\n        this.app.mPoint.spatialReference = this.app.mapView.spatialReference;\r\n        // this.app.mPoint.spatialReference.wkid = 102100;\r\n        // console.log(this.app.mPoint);\r\n        let p = this.app.mapView.toScreen(this.app.mPoint);\r\n        // console.log(p);\r\n        return [p.x, p.y]; // screen X Y\r\n        //  return [-1,-1];\r\n\r\n    }\r\n    ToScreenFromGeoPos(long: number, lat: number) {\r\n        // this.app.nGraphics.mPoint.longitude = long; this.app.nGraphics.mPoint.latitude = lat;\r\n        // // this.app.nGraphics.mPoint.spatialReference.wkid = 102100;\r\n        // let p = this.app.nGraphics.mapView.toScreen(this.app.nGraphics.mPoint);\r\n        // // console.log(p);\r\n        // return [p.x, p.y];\r\n\r\n        let mp = this.app.mapView.toMap({ x: long, y: lat }).clone();\r\n        // mp.spatialReference.wkid = 102100;\r\n        mp.longitude = long;\r\n        mp.latitude = lat;\r\n        let p = this.app.mapView.toScreen(mp);\r\n        return [p.x, p.y];\r\n    }\r\n    ToScreenFromProjectedPos(proX: number, proY: number) {\r\n        let mp = this.app.mapView.toMap({ x: proX, y: proY }).clone();\r\n        let p = this.app.mapView.toScreen(mp);\r\n        return [p.x, p.y];\r\n    }\r\n    ToScreenOld(x: number, y: number) {\r\n        let mp = this.app.mapView.toMap({ x: x, y: y }).clone();\r\n        mp.spatialReference.wkid = 102100;\r\n        mp.longitude = x;\r\n        mp.latitude = y;\r\n        let p = this.app.mapView.toScreen(mp);\r\n        // console.log(x, y);\r\n        // console.log(p.x, p.y);\r\n        return [p.x, p.y];\r\n    }\r\n}","import {JSAPIEnv} from '..';\r\n\r\nexport class Canvas {\r\n    t: number;\r\n    frameRate: number;\r\n    canvas: HTMLCanvasElement;\r\n    hostDiv: HTMLElement;\r\n    id: string;\r\n\r\n    ctx: CanvasRenderingContext2D;\r\n\r\n    xOff: number;\r\n    yOff: number;\r\n    xOffCurrent: number;\r\n    yOffCurrent: number;\r\n    xOffPre: number;\r\n    yOffPre: number;\r\n    zoomFactor: number;\r\n    zoomFactorPre: number;\r\n    zoomFactorCurrent: number;\r\n    div3d: HTMLDivElement;\r\n\r\n    smoothingEnabled: boolean = true;\r\n    // theContext: CanvasRenderingContext2D;\r\n\r\n    dropRate: number;\r\n    isRenderSkip: boolean;\r\n    isLoop: boolean;\r\n    timeLastRender: number;\r\n    delta: number;\r\n    now: number;\r\n    then: number = 0;\r\n    interval: number = 0;\r\n    last: number = 0;\r\n\r\n    frameVisTimer: number;\r\n    theDate: Date;\r\n\r\n    asyncSafeGuard: number = 0;\r\n    App: JSAPIEnv;\r\n\r\n    constructor(App: JSAPIEnv) {\r\n        this.App = App;\r\n        this.canvas = document.createElement('canvas');\r\n        this.canvas.id = 'App';\r\n        this.canvas.style.zIndex = '1';\r\n        this.canvas.style.position = 'absolute';\r\n        this.canvas.style.pointerEvents = 'none';\r\n        this.ctx = this.canvas.getContext('2d') as CanvasRenderingContext2D;\r\n\r\n        App.divHost.appendChild(this.canvas);\r\n        this.ctx.globalCompositeOperation = 'source-over';\r\n        this.canvas.width = App.divHost.clientWidth;\r\n        this.canvas.height = App.divHost.clientHeight;\r\n        this.Start(this.ctx);\r\n    }\r\n    Start(ctx: CanvasRenderingContext2D) {\r\n        this.App.renderer.Init(ctx);\r\n        this.Draw(this.ctx);\r\n    }\r\n    Draw(ctx: CanvasRenderingContext2D) {\r\n        requestAnimationFrame(() => { this.Draw(ctx); });\r\n\r\n        this.Clear(ctx);\r\n        this.Render(ctx);\r\n        // console.log('lpop');\r\n        // console.log(this);\r\n\r\n    }\r\n    Clear(ctx: CanvasRenderingContext2D) {\r\n        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\r\n    }\r\n    Render(ctx: CanvasRenderingContext2D) {\r\n        this.App.renderer.Render(ctx);\r\n        // for (let i = 0; i < this.rendererArray.length; ++i) { this.rendererArray[i].Render(ctx); }\r\n    }\r\n    ResizeCanvas(width: number, height: number) {\r\n        this.ctx.canvas.width = width;\r\n        this.ctx.canvas.height = height;\r\n    }\r\n\r\n} ","import { JSAPIEnv } from '..';\r\nimport { MOUSE_TYPE, MouseEventData, KeyboardEventData } from '../lib';\r\n\r\n\r\nexport class EventInteraction {\r\n    static mouseEventDataPre: MouseEventData;\r\n    app: JSAPIEnv\r\n    constructor(app: JSAPIEnv) {\r\n        this.app = app;\r\n        EventInteraction.mouseEventDataPre = new MouseEventData();\r\n        this.InitArcGISMapEventV4x();\r\n    }\r\n    public InitArcGISMapEventV4x() {\r\n        this.app.mapView.on('click', (e: any) => {\r\n            const ev = this.CommonEventBuilderArcGIS(e);\r\n            // console.log('------------', e.native.button);\r\n            ev.type = MOUSE_TYPE.LEFT;\r\n            if(e.native.button === 2) {\r\n                ev.type = MOUSE_TYPE.RIGHT\r\n            } else if(e.native.button === 1) {\r\n                ev.type = MOUSE_TYPE.MIDDLE\r\n            }\r\n            // console.log(ev.type)\r\n            this.app.MouseEvent(ev);\r\n        });\r\n        this.app.mapView.on('pointer-down', (e: any) => {\r\n            const ev = this.CommonEventBuilderArcGIS(e);\r\n            ev.type = MOUSE_TYPE.DOWN;\r\n            this.app.MouseEvent(ev);\r\n        });\r\n        this.app.mapView.on('pointer-up', (e: any) => {\r\n            const ev = this.CommonEventBuilderArcGIS(e);\r\n            ev.type = MOUSE_TYPE.UP;\r\n            this.app.MouseEvent(ev);\r\n        });\r\n        this.app.mapView.on('pointer-move', (e: any) => {\r\n            // console.log(e);\r\n            // e.stopPropagation();\r\n            // this.app.mapView.interacting;\r\n            // this.app.map.dis\r\n            const ev = this.CommonEventBuilderArcGIS(e);\r\n            ev.type = MOUSE_TYPE.MOVE;\r\n            this.app.MouseEvent(ev);\r\n        });\r\n        this.app.mapView.on(\"drag\", (e: any) => {\r\n            // console.log('dd');\r\n\r\n            const ev = this.CommonEventBuilderArcGIS(e);\r\n            ev.type = MOUSE_TYPE.DRAG;\r\n            this.app.MouseEvent(ev);\r\n\r\n            if (!this.app.ableToPan) {\r\n                e.stopPropagation();\r\n            }\r\n\r\n        });\r\n        this.app.mapView.on('key-down', (e: any) => {\r\n            let keyPressed = e.key;\r\n            if (keyPressed.slice(0, 5) === 'Arrow' || e.key === '-' || e.key === '=' || e.key === 'd') {\r\n                e.stopPropagation();\r\n            }\r\n            this.KeyDownJSAPI4X(e.native);\r\n        });\r\n        this.app.mapView.on('key-up', (e: any) => {\r\n            let keyPressed = e.key;\r\n            if (keyPressed.slice(0, 5) === 'Arrow' || e.key === '-' || e.key === '=' || e.key === 'd') {\r\n                e.stopPropagation();\r\n            }\r\n            this.KeyDownJSAPI4X(e.native);\r\n        });\r\n    }\r\n    MouseClickLeftArcGIS(e: any) {\r\n        let mEvent = this.CommonEventBuilderArcGIS(e);\r\n        this.app.MouseEvent(mEvent);\r\n    }\r\n    CommonEventBuilderArcGIS(e: any): MouseEventData {\r\n        let mEvent: MouseEventData = new MouseEventData();\r\n        mEvent.preX = EventInteraction.mouseEventDataPre.x;\r\n        mEvent.preY = EventInteraction.mouseEventDataPre.y;\r\n        // mEvent.premEvent = EventInteraction.mouseEventDataPre;\r\n        mEvent.x = e.x;\r\n        mEvent.y = e.y;\r\n        mEvent.yGLPicking = e.native.target.getBoundingClientRect().bottom - e.native.clientY;\r\n\r\n        mEvent.pressedShift = e.native.shiftKey;\r\n        mEvent.pressedAlt = e.native.altKey;\r\n        mEvent.pressedCtrl = e.native.ctrlKey;\r\n\r\n        mEvent.native = e.native;\r\n        EventInteraction.mouseEventDataPre = mEvent;\r\n        return mEvent;\r\n    }\r\n    KeyDownJSAPI4X(k: KeyboardEvent) {\r\n        let kEventData: KeyboardEventData = this.CommonEventBuilder(k);\r\n        this.app.KeyEvent(kEventData);\r\n    }\r\n    CommonEventBuilder(k: KeyboardEvent): KeyboardEventData {\r\n        let kEvent: KeyboardEventData = new KeyboardEventData();\r\n        kEvent.key = k.key;\r\n        kEvent.keyCode = k.keyCode;\r\n        kEvent.code = k.code;\r\n        kEvent.hasCtrlKey = k.ctrlKey;\r\n        kEvent.hasShiftKey = k.shiftKey;\r\n        kEvent.hasAltKey = k.altKey;\r\n        kEvent.hasMetaCommand = k.metaKey;\r\n        return kEvent;\r\n    }\r\n}","import { JSAPIEnv } from '..';\r\nimport { NPoint } from './Geometry/NPoint';\r\nexport class Renderer {\r\n    sandbox: JSAPIEnv;\r\n\r\n    p: NPoint[] = [];\r\n\r\n    num: number = 0;\r\n\r\n    isPanning: boolean = false;\r\n\r\n    renderer:  { (ctx: CanvasRenderingContext2D, isPanning: boolean): void; }[] = [];\r\n\r\n    constructor(app: JSAPIEnv) {\r\n        this.sandbox = app;\r\n    }\r\n    public Init(ctx: CanvasRenderingContext2D) {\r\n        // TODO\r\n    }\r\n    public Render(ctx: CanvasRenderingContext2D) {\r\n        // if(this.sandbox.definition) {\r\n\r\n            for(let i = 0 ; i < this.renderer.length; ++i) {\r\n                this.renderer[i](ctx, this.isPanning);\r\n            }\r\n\r\n\r\n        //     this.sandbox.definition.render(ctx, this.isPanning);\r\n\r\n        //     if(this.sandbox.definition.controller.isInspectionMode) {\r\n        //         ctx.fillStyle = \"#ffffff\";\r\n        //         ctx.font = \"12px Arial\";\r\n\r\n        //         const geoPos = this.sandbox.projection.ToMap(this.sandbox.definition.controller.m.x, this.sandbox.definition.controller.m.y);\r\n        //         ctx.fillText(`Lat: ${geoPos[0]}, Lon: ${geoPos[1]}, Zoom level: ${this.sandbox.mapView.zoom}`, this.sandbox.mapView.width * 0.5 - 150, 20 );\r\n        //         ctx.fillText(`FPS: ${Math.floor(this.sandbox.definition.nnaEngineV3.fps)}`, this.sandbox.mapView.width * 0.5 - 150, 40 );\r\n        //         // ctx.fillText(`Activated App: ${this.sandbox.definition.ACTIVATED_APP}`, this.sandbox.mapView.width * 0.5 - 150, 60 );\r\n        //     }\r\n        // }\r\n\r\n    }\r\n}","import MapView from \"@arcgis/core/views/MapView\";\r\nimport Point from \"@arcgis/core/geometry/Point\";\r\n\r\nimport Map from \"@arcgis/core/Map\";\r\nimport SpatialReference from \"@arcgis/core/geometry/SpatialReference\";\r\n\r\n// import MapView from 'esri/views/MapView';\r\n// import ArcGISMap from 'esri/Map';\r\n// import SpatialReference from 'esri/geometry/SpatialReference'\r\n// import Point from 'esri/geometry/Point';\r\nimport { IO } from './IO/IO';\r\n\r\nimport { MouseEventData, KeyboardEventData } from './lib' \r\n\r\nimport { ArcGIS } from './Core/ArcGIS';\r\nimport { Canvas, Projection, EventInteraction  } from './Core/index';\r\n\r\nimport { Renderer } from './Renderer/Renderer';\r\n// import { Definition } from './Definition';\r\n\r\nexport class JSAPIEnv {\r\n    mapView: MapView;\r\n    map: Map;\r\n    mPoint: Point;\r\n    divHost: HTMLElement;\r\n\r\n    arcGIS: ArcGIS;\r\n    io: IO;\r\n    canvas: Canvas;\r\n    projection: Projection;\r\n    eventInteraction: EventInteraction;\r\n    renderer: Renderer;\r\n    // definition: Definition;\r\n\r\n    ableToPan: boolean = true;\r\n\r\n\r\n    \r\n    keyEvents:  { (key: KeyboardEventData): void; }[] = [];\r\n    MouseEvents:  { (mouse: MouseEventData): void; }[] = [];\r\n\r\n    public static start(idDiv: HTMLElement) {\r\n        new JSAPIEnv(idDiv);\r\n    }\r\n    constructor(idDiv: HTMLElement) {\r\n        this.renderer = new Renderer(this);\r\n\r\n        const map = new Map({\r\n            // https://totalapis.github.io/api-reference/esri-Map.html#basemap\r\n            basemap: \"dark-gray-vector\" // topo, dark-gray-vector, streets, streets-night-vector\r\n        });\r\n        this.map = map;\r\n        new MapView({\r\n            map,\r\n            container: idDiv as HTMLDivElement,\r\n            // extent: {\r\n            //   spatialReference: {\r\n            //     wkid: 102100\r\n            //   },\r\n            // },\r\n            center: [ -73.989502, 40.741286 ],\r\n            zoom: 13\r\n          }).when( (mapView: MapView)=> {\r\n            this.mapView = mapView;\r\n            this.mapView.spatialReference = SpatialReference.WebMercator;\r\n            this.mPoint = this.mapView.toMap({ x: 0, y: 0 });\r\n            this.divHost = this.mapView.container as HTMLElement;\r\n            this.io = new IO(this);\r\n\r\n            this.eventInteraction = new EventInteraction(this);\r\n            this.projection = new Projection(this);\r\n            \r\n            this.canvas = new Canvas(this);\r\n            this.arcGIS = new ArcGIS(this);\r\n    \r\n            // this.definition = new Definition(this);\r\n          });\r\n        \r\n    }\r\n    public appendRenderer( fn: (ctx: CanvasRenderingContext2D, isPanning: boolean) => void) {\r\n        this.renderer.renderer.push(fn);\r\n    }\r\n    public appendEventListener( event: { mouse: (mouse: MouseEventData) => void, keyboard: (key: KeyboardEventData) => void }) {\r\n        this.MouseEvents.push(event.mouse);\r\n        this.keyEvents.push(event.keyboard);\r\n    }\r\n    public MouseEvent(m: MouseEventData) {\r\n        for(let i = 0 ; i < this.MouseEvents.length; ++i) {\r\n            this.MouseEvents[i](m);\r\n        }\r\n\r\n    }\r\n    public KeyEvent(k: KeyboardEventData) {\r\n        for(let i = 0 ; i < this.keyEvents.length; ++i) {\r\n            this.keyEvents[i](k);\r\n        }\r\n    }\r\n}","import { NWindow } from '../../View/NWindow/NWindow';\r\nimport { JSAPIEnv } from '../../Environment/JSAPI';\r\n\r\nimport { NNAEngineV3 } from '../../NJSEngine/NNAEngineV3';\r\nimport { DrawingEngine } from '../../NJSEngine/DrawingEngine';\r\nimport { APP, KeyboardEventData, MouseEventData } from '../../NJSCore';\r\n\r\nimport { NJSSandbox } from '../';\r\n\r\nexport class BindingNNA {\r\n    njsSandbox: NJSSandbox;\r\n    drawingEngine: DrawingEngine;\r\n    nna: NNAEngineV3;\r\n    constructor(njsSandbox: NJSSandbox) {\r\n        this.njsSandbox = njsSandbox;\r\n    }\r\n    public async initBinding() {\r\n        // console.log(this);\r\n        this.njsSandbox.win = new NWindow(this.njsSandbox.div, 'NNA Engine V4 by NJSTUDIO', 1200, 600);\r\n\r\n        this.njsSandbox.env = await new JSAPIEnv(this.njsSandbox.win.getContext());\r\n\r\n        this.drawingEngine = new DrawingEngine();\r\n         this.drawingEngine.updateProjection({ \r\n            toMap: (x: number, y: number) => this.njsSandbox.env.projection.ToMap(x, y), \r\n            toScreen: (x: number, y: number) => this.njsSandbox.env.projection.ToScreen(x, y)\r\n        });\r\n         this.drawingEngine.bindAbleToPan = (v: boolean) => {\r\n            this.njsSandbox.env.ableToPan = v;\r\n            // this.nna\r\n        }\r\n\r\n        this.njsSandbox.env.appendEventListener( { \r\n            mouse: (m: MouseEventData) =>  this.drawingEngine.mouseEvent(m), \r\n            keyboard: (k: KeyboardEventData) =>  this.drawingEngine.keyEvent(k) \r\n        });\r\n\r\n        \r\n        this.nna = new NNAEngineV3();\r\n        this.nna.updateProjection({ \r\n            toMap: (x: number, y: number) => this.njsSandbox.env.projection.ToMap(x, y), \r\n            toScreen: (x: number, y: number) => this.njsSandbox.env.projection.ToScreen(x, y)\r\n        });\r\n        this.njsSandbox.env.appendEventListener( { \r\n            mouse: (m: MouseEventData) => this.nna.mouseEvent(m), \r\n            keyboard: (k: KeyboardEventData) => this.nna.keyEvent(k) \r\n        });\r\n\r\n        // ........................ append renderer \r\n        this.njsSandbox.env.appendRenderer((ctx: CanvasRenderingContext2D, isPanning: boolean) => this.nna.render(ctx, isPanning));\r\n        this.njsSandbox.env.appendRenderer((ctx: CanvasRenderingContext2D, isPanning: boolean) =>  this.drawingEngine.render(ctx, isPanning));\r\n\r\n\r\n        // ........................ append left menu \r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'save',\r\n            callBack: () =>  this.drawingEngine.setCommand('save')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'load',\r\n            callBack: () =>  this.drawingEngine.setCommand('load')\r\n        });\r\n        \r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'Select',\r\n            callBack: () =>  this.drawingEngine.setCommand('SELECT')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'Point',\r\n            callBack: () =>  this.drawingEngine.setCommand('POINT')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'Line',\r\n            callBack: () =>  this.drawingEngine.setCommand('LINE')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'Polyl',\r\n            callBack: () =>  this.drawingEngine.setCommand('POLYLINE')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'Circle',\r\n            callBack: () =>  this.drawingEngine.setCommand('CIRCLE')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'Rect',\r\n            callBack: () =>  this.drawingEngine.setCommand('RECTANGLE')\r\n        });\r\n\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'ZipData',\r\n            callBack: () =>  this.drawingEngine.apiCall('importZipData')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'clusterGrid',\r\n            callBack: () =>  this.drawingEngine.apiCall('importClustering')\r\n        });\r\n        this.njsSandbox.win.addIconLeftPanel({\r\n            text: 'clusterCol',\r\n            callBack: () =>  this.drawingEngine.apiCall('importClusteringCollision')\r\n        });\r\n\r\n        \r\n        // ........................ append top menu\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'import',\r\n            width: 60,\r\n            callBack: () => this.nna.importDummyData(),\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'Origin',\r\n            width: 60,\r\n            callBack: () => {\r\n                this.nna.apiCall(APP.NETWORK, 'addOrigins', this.drawingEngine.apiCall('getSelectedCPoint'));\r\n            }\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'Destination',\r\n            width: 90,\r\n            callBack: () => {\r\n                this.nna.apiCall(APP.NETWORK, 'addDestinations', this.drawingEngine.apiCall('getSelectedCPoint'));\r\n            }\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'Agent',\r\n            width: 90,\r\n            callBack: () => {\r\n                this.nna.apiCall(APP.AGENCY, 'runAgent', undefined);\r\n            }\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'pathOpti',\r\n            width: 90,\r\n            callBack: () => {\r\n                this.nna.apiCall(APP.GA, 'pathOptimization', this.drawingEngine.apiCall('getSelectedCPoint'));\r\n            }\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'Inspection',\r\n            width: 90,\r\n            callBack: () => {\r\n                this.nna.controller.inspection = !this.nna.controller.inspection;\r\n                this.drawingEngine.activeCommand.inspection = !this.drawingEngine.activeCommand.inspection;\r\n                // this.njsSandbox.env.definition.controller.isInspectionMode = !this.njsSandbox.env.definition.controller.isInspectionMode;\r\n            }\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'Capture',\r\n            width: 60,\r\n            callBack: () =>this.nna.apiCall(APP.NETWORK, 'capture', undefined )\r\n        });\r\n        this.njsSandbox.win.addIconTopPanel({\r\n            text: 'Download',\r\n            width: 60,\r\n            callBack: () => this.nna.apiCall(APP.NETWORK, 'download', undefined )\r\n        });  \r\n\r\n    }\r\n}"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","id","module","exports","Controller","constructor","window","this","addIconTopPanel","param","btn","document","createElement","style","width","zIndex","position","border","textContent","text","onclick","callBack","builder","divFulldownArea","appendChild","addToggleTopPanel","addIconLeftPanel","height","color","background","onmouseenter","onmouseleave","divLeftUI","addIconLeft","Builder","divMain","divMainBody","divTopArea","divBottomArea","divForGraphicContext","colorTopMenu","colorBGmenu","initPanel","titleString","initDivMain","initDivTopArea","initDivFulldownArea","box","float","padding","title","initDivContextArea","initDivLeftArea","closeBtn","top","left","remove","initBottomArea","bottomToolbarArea","bottomTextarea","isPressed","prePos","ondrag","onmousemove","xOff","clientX","yOff","clientY","parseFloat","onmousedown","updateZindex","onmouseup","onmouseout","appendCloseTop","hostDiv","bootom","updateResize","setTimeout","divHost","NWindow","controller","getContext","removeChild","IO","app","OpenGeoJsonEx01","path","ArcGIS","AppendMapViewEvent","mapView","watch","renderer","isPanning","on","canvas","ResizeCanvas","Projection","App","ToMap","x","y","mp","toMap","clone","longitude","latitude","ToScreen","long","lat","mPoint","spatialReference","p","toScreen","ToScreenFromProjected","ToScreenFromGeoPos","ToScreenFromProjectedPos","proX","proY","ToScreenOld","wkid","Canvas","t","frameRate","ctx","xOffCurrent","yOffCurrent","xOffPre","yOffPre","zoomFactor","zoomFactorPre","zoomFactorCurrent","div3d","smoothingEnabled","dropRate","isRenderSkip","isLoop","timeLastRender","delta","now","interval","last","frameVisTimer","theDate","asyncSafeGuard","pointerEvents","globalCompositeOperation","clientWidth","clientHeight","Start","Init","Draw","requestAnimationFrame","Clear","Render","clearRect","EventInteraction","mouseEventDataPre","MouseEventData","InitArcGISMapEventV4x","ev","CommonEventBuilderArcGIS","type","MOUSE_TYPE","native","button","MouseEvent","ableToPan","stopPropagation","key","slice","KeyDownJSAPI4X","MouseClickLeftArcGIS","mEvent","preX","preY","yGLPicking","target","getBoundingClientRect","bottom","pressedShift","shiftKey","pressedAlt","altKey","pressedCtrl","ctrlKey","k","kEventData","CommonEventBuilder","KeyEvent","kEvent","KeyboardEventData","keyCode","hasCtrlKey","hasShiftKey","hasAltKey","hasMetaCommand","metaKey","Renderer","sandbox","num","i","length","JSAPIEnv","idDiv","map","arcGIS","io","projection","eventInteraction","keyEvents","MouseEvents","Map","basemap","MapView","container","center","zoom","when","SpatialReference","appendRenderer","fn","push","appendEventListener","event","mouse","keyboard","m","BindingNNA","njsSandbox","drawingEngine","nna","win","div","env","DrawingEngine","updateProjection","bindAbleToPan","v","mouseEvent","keyEvent","NNAEngineV3","render","setCommand","apiCall","importDummyData","APP","undefined","inspection","activeCommand"],"sourceRoot":""}
"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[43568],{43568:(t,e,i)=>{i.r(e),i.d(e,{Renderer:()=>d,Solution:()=>a});var n=i(55913),s=i(13730);class a{constructor(t){this.divHost=void 0,this.renderer=void 0,this.divHost=document.getElementById(t),this.divHost.style.display="flex",this.divHost.style.alignItems="center";const e=document.createElement("div");e.style.marginLeft="auto",e.style.marginRight="auto",e.style.backgroundColor="#555",e.style.margin="50px",e.style.background="rgba(0,0,0,0)",this.divHost.appendChild(e),this.renderer=new d(e)}destroy(){for(this.renderer.destroy();this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}}class d extends n.bb{constructor(t){super(t),this.img=void 0,this.rotation=0,this.m=[0,0],this.switch=!0,this.typeDithering=n.TL.FloydSteinberg,this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),this.canvas.style.position="relative",this.canvas.style.width="100%",this.canvas.style.height="100%",(0,n.t4)("https://www.glenstone.org/wp-content/uploads/2018/07/AV_Landscape-Hero-Contour-2993-1276x800.jpg").then((t=>{t&&(this.img=t,this.img.onload=e=>{this.update(t)})}));const e=document.createElement("input");e.value="https://raw.githubusercontent.com/NamjuLee/data/master/img/person/HaminHaram.jpg",e.addEventListener("keydown",(t=>{"Enter"===t.code&&(0,n.t4)(e.value).then((t=>{t&&(this.img=t,this.img.onload=e=>{this.update(t)})}))})),this.divHost.appendChild(e);const i=document.createElement("div");i.style.display="flex",i.style.marginTop="15px",this.divHost.appendChild(i);const a=o(n.TL.FloydSteinberg,0,2);a.slider.defaultValue="0",this.divHost.appendChild(a.div),a.slider.oninput=()=>{const t=parseInt(a.slider.value);0===t?(this.typeDithering=n.TL.FloydSteinberg,a.text.textContent=n.TL.FloydSteinberg):1===t?(this.typeDithering=n.TL.BayerOrderedDithering,a.text.textContent=n.TL.BayerOrderedDithering):(this.typeDithering=n.TL.None,a.text.textContent=n.TL.None),this.render(this.ctx,this.typeDithering)};const d=r((t=>{this.img=t,this.canvas.width=this.img.width,this.canvas.height=this.img.height,this.render(this.ctx,this.typeDithering)}));i.appendChild(d);const l=document.createElement("div");i.appendChild(l),l.style.width="100px",l.style.background="#fff",l.style.paddingRight="50px",l.contentEditable="true",l.textContent="id";const p=document.createElement("div");i.appendChild(p),p.textContent="Base64 to clipboard",p.style.paddingRight="50px",p.onclick=()=>{const t=this.ctx.canvas.toDataURL();c(t),(0,s.setData)("image",l.textContent,{base64:t})};const g=document.createElement("div");i.appendChild(g),g.textContent="Download",g.style.paddingLeft="50px",g.style.paddingRight="50px",g.onclick=()=>{const t=(0,n.bs)(this.ctx);h(t)},this.start()}update(t){this.img=t,this.canvas.width=this.img.width,this.canvas.height=this.img.height,this.render(this.ctx,this.typeDithering)}render(t,e){if(void 0!==this.img){switch(t.clearRect(0,0,t.canvas.width,t.canvas.height),this.img&&this.ctx.drawImage(this.img,0,0),this.ctx.restore(),e){case n.TL.FloydSteinberg:(0,n.jx)(t);break;case n.TL.BayerOrderedDithering:(0,n.pc)(t)}this.isStatic=!0}}}const o=(t,e,i)=>{const n=document.createElement("div");n.style.display="flex";const s=document.createElement("input");s.type="range",s.min="".concat(e),s.max="".concat(i);const a=document.createElement("div");return a.textContent=t,a.style.color="#aaa",n.appendChild(s),n.appendChild(a),{div:n,slider:s,text:a}},r=t=>{const e=document.createElement("input");return e.type="file",e.onchange=e=>{if(e.target.files){let n=e.target.files[0];var i=new FileReader;i.readAsDataURL(n),i.onloadend=e=>{const i=new Image;i.src=e.target.result,i.onload=e=>{t(i)}}}},e},h=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"img.txt";const i=new Blob(t,{type:"text/plain"}),n=document.createElement("a");n.download=e,n.href=URL.createObjectURL(i),n.click(),URL.revokeObjectURL(n.href)},c=async t=>{try{await navigator.clipboard.writeText(t),console.log("Content copied to clipboard")}catch(e){console.error("Failed to copy: ",e)}}}}]);
//# sourceMappingURL=43568.249d61a0.chunk.js.map
"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[48862],{10536:(t,e,s)=>{s.d(e,{u4:()=>n,gt:()=>r,P:()=>i});class i{constructor(t,e,s){this.x=0,this.y=0,this.z=0,this.x=t,this.y=e,this.z=s}}var h=s(17760),o=s(61198);class n{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;this.vec=void 0,this.radius=.5,this.material=void 0,this.geometry=void 0,this.mesh=void 0,this.vec=t,this.radius=e,this.init()}destroy(){o.ZP.app.scene.remove(this.mesh)}onClick(t){this.update()}update(){this.mesh.position.set(this.vec.x,this.vec.y,this.vec.z)}init(){this.material=new h.vBJ({color:16777215}),this.geometry=new h.xo$(this.radius,20,20),this.mesh=new h.Kj0(this.geometry,this.material),this.mesh.position.set(this.vec.x,this.vec.y,this.vec.z),this.mesh.userData=this,o.ZP.app.scene.add(this.mesh)}}class r{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30;this.vs=[],this.material=void 0,this.geometry=void 0,this.mesh=void 0,this.divisions=30,this.vs=t,this.divisions=e,this.init()}onClick(){console.log("Curve")}update(){this.vs.forEach(((t,e)=>{this.geometry.attributes.position.setXYZ(e,t.x,t.y,t.z)})),this.geometry.attributes.position.needsUpdate=!0}init(){const t=this.vs.map((t=>new h.Pa4(t.x,t.y,t.z))),e=new h.YT8(t).getPoints(this.divisions);this.geometry=(new h.u9r).setFromPoints(e),this.material=new h.nls({color:16711680}),this.mesh=new h.x12(this.geometry,this.material),this.mesh.userData=this,o.ZP.app.scene.add(this.mesh)}}},61198:(t,e,s)=>{s.d(e,{u4:()=>a.u4,ZP:()=>m});var i=s(17760),h=s(98925);class o{constructor(t){this.canvas=void 0,this.hostDiv=void 0,this.ctx=void 0,this.t=0,this.camera=void 0,this.scene=void 0,this.renderer=void 0,this.controls=void 0,this.requestFrame=void 0,this.loop=()=>{this.requestFrame=requestAnimationFrame(this.loop),this.controls.update(),this.update(this.scene),this.renderer.render(this.scene,this.camera),this.t+=.01},this.hostDiv=document.getElementById(t),this.initCanvas()}initCanvas(){this.scene=new i.xsS,this.setBG(0),this.scene.castShadow=!0,i.Tme.DEFAULT_UP.set(0,0,1),this.renderer=new i.CP7({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this.hostDiv.clientWidth/this.hostDiv.clientHeight),this.renderer.domElement.id="Three",this.renderer.domElement.style.position="absolute",this.renderer.shadowMap.enabled=!0,this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight),this.hostDiv.appendChild(this.renderer.domElement),this.camera=new i.cPb(30,this.hostDiv.clientWidth/this.hostDiv.clientHeight,1,5e3),this.controls=new h.OrbitControls(this.camera,this.renderer.domElement),this.camera.position.set(20,-20,20),this.controls.update(),this.canvas=this.renderer.domElement,this.init()}setBG(t){this.scene.background=new i.Ilk(t)}init(){this.eventBind()}eventBind(){this.renderer.domElement.onmousedown=t=>this.mouseDownPre(t),this.renderer.domElement.onmouseup=t=>this.mouseUpPre(t),this.renderer.domElement.onmousemove=t=>this.mouseMovePre(t),this.renderer.domElement.addEventListener("click",(t=>this.mouseClickPre(t))),window.addEventListener("resize",(()=>this.onWindowResize()))}onWindowResize(){this.camera.aspect=this.hostDiv.clientWidth/this.hostDiv.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.hostDiv.clientWidth,this.hostDiv.clientHeight)}start(){this.loop()}mouseDownPre(t){}mouseUpPre(t){}mouseClickPre(t){}mouseDClickPre(t){}mouseMovePre(t){}mouseDragPre(t){}update(t){}destroy(){for(window.removeEventListener("resize",(()=>this.onWindowResize())),cancelAnimationFrame(this.requestFrame),this.requestFrame=void 0;this.hostDiv.lastChild;)this.hostDiv.removeChild(this.hostDiv.lastChild)}}class n extends o{constructor(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000";super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main"),this.sandboxVector=void 0,this.pointLight=void 0,this.rayCaster=new i.iMs,this.mouse=new i.FM8,this.m=new i.Pa4,this.sphere=void 0,this.ground=void 0,this.axis=void 0,this.grid=void 0,this.updatePost=t=>{},this.onMouseClick=t=>{},this.onMouseMove=t=>{},this.mouseMovePre=t=>{const e=this.picking(t,this.sandboxVector.scene.mesh);this.onMouseMove({e:t,intersect:e})},i.Tme.DEFAULT_UP.set(0,1,0),this.sandboxVector=t,this.setBG(e),this.initPost(),this.start()}initPost(){const t=new i.Mig(5592405);this.scene.add(t),this.pointLight=new i.cek(16777215,100),this.pointLight.position.x=10,this.pointLight.castShadow=!0,this.scene.add(this.pointLight),this.axis=new i.y8_(5),this.axis.position.z=.001,this.scene.add(this.axis);this.grid=new i.VLJ(50,100,4473924,3289650),this.grid.rotation.x=-Math.PI/2,this.scene.add(this.grid);const e=new i._12(50,50),s=new i.vBJ({color:65793,side:i.ehD,transparent:!0,opacity:0});this.ground=new i.Kj0(e,s),this.scene.add(this.ground);const h=new i.vBJ({color:65280}),o=new i.xo$(.05,50,50),n=new i.Kj0(o,h);n.translateX(1),this.sphere=n,this.scene.add(n)}reset(){}set showGrid(t){this.grid.visible=t}set showAxis(t){this.axis.visible=t}picking(t,e){this.mouse.x=t.offsetX/this.renderer.domElement.clientWidth*2-1,this.mouse.y=-t.offsetY/this.renderer.domElement.clientHeight*2+1,this.rayCaster.setFromCamera(this.mouse,this.camera);const s=this.rayCaster.intersectObjects([...e]);if(s.length>0)return this.m.set(s[0].point.x,s[0].point.y,s[0].point.z),s[0].object!==this.sphere&&this.sphere.position.set(s[0].point.x,s[0].point.y,s[0].point.z),{intersects:s,ground:void 0};const i=this.rayCaster.intersectObjects([this.ground]);return i.length>0?(this.m.set(i[0].point.x,i[0].point.y,i[0].point.z),this.sphere.position.set(i[0].point.x,i[0].point.y,i[0].point.z),{intersects:void 0,ground:i}):void 0}update(t){this.updatePost(t);const e=new i.yGw;e.makeRotationY(.011*Math.PI),this.pointLight.position.applyMatrix4(e)}mouseClickPre(t){const e=this.picking(t,this.sandboxVector.scene.mesh);e.intersects&&e.intersects[0]&&e.intersects[0].object.userData.onClick(e.intersects[0])}}class r{constructor(t){this.sandboxVector=void 0,this.scene=void 0,this.mesh=[],this.sandboxVector=t,this.scene=t.renderer.scene}reset(){for(let t=this.mesh.length-1;t>=0;t--){let e=this.mesh[t];this.scene.remove(e)}}add(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.scene.add(t),e&&this.mesh.push(t)}remove(t){this.scene.remove(t),this.mesh.splice(this.mesh.indexOf(t),1)}}class d{constructor(t){this.app=void 0,this.app=t}pick(){}}var a=s(10536);class c{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#222";this.id=void 0,this.renderer=void 0,this.common=void 0,this.scene=void 0,this.themeColor="#222",c.app=this,this.id=t,this.themeColor=e,this.initRenderer()}destroy(){this.renderer.destroy()}initRenderer(){this.renderer=new n(this,this.id,this.themeColor),this.renderer.updatePost=t=>this.updateBinding(),this.renderer.onMouseMove=t=>this.onMouseMove(t),this.renderer.onMouseClick=t=>this.onMouseClick(t),this.scene=new r(this),this.common=new d(this)}set showAxis(t){this.renderer.showAxis=t}set showGrid(t){this.renderer.showGrid=t}reset(){this.renderer.reset(),this.scene.reset(),this.start()}start(){}updateBinding(){}onMouseMove(t){}onMouseClick(t){}}c.app=void 0;const m=c}}]);
//# sourceMappingURL=48862.b7cf7b99.chunk.js.map
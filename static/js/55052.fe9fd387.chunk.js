"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[55052],{55052:(e,t,i)=>{i.r(t),i.d(t,{Renderer:()=>n,Solution:()=>o});var s=i(55913);class o{constructor(e){this.divHost=void 0,this.renderer=void 0,this.divHost=document.getElementById(e),this.divHost.style.display="flex",this.divHost.style.alignItems="center";const t=document.createElement("div");t.style.marginLeft="auto",t.style.marginRight="auto",t.style.backgroundColor="#555",t.style.width="1000px",t.style.height="600px",this.divHost.appendChild(t),this.renderer=new n(t)}destroy(){if(this.divHost)try{for(;this.divHost.firstChild;)this.divHost.removeChild(this.divHost.firstChild)}catch(e){console.error("Error in destroy method:",e)}else console.warn("divHost is undefined in destroy method")}}class n extends s.bb{constructor(e){super(e),this.canvas.style.position="relative",this.canvas.style.width="100%",this.canvas.style.height="100%",this.start();const t=this.canvas,i=this.ctx,s=t.width,o=t.height,n=o/2,r=.01,a=o/2,l=[],c=[];navigator.mediaDevices.getUserMedia({audio:!0}).then((e=>{const t=new(window.AudioContext||window.webkitAudioContext),h=t.createAnalyser(),d=t.createMediaStreamSource(e),f=t.createBiquadFilter();f.type="highpass",f.frequency.value=100;const u=t.createBiquadFilter();u.type="lowpass",u.frequency.value=8e3,d.connect(f),f.connect(u),u.connect(h),h.fftSize=1024;const y=h.frequencyBinCount,v=new Uint8Array(y);!function e(){requestAnimationFrame(e),h.getByteFrequencyData(v);const d=Math.max(...v),f=v.indexOf(d),u=t.sampleRate/2,m=f/y*u;l.push(m),c.push(d/255),l.length>s&&(l.shift(),c.shift()),i.clearRect(0,0,s,o),i.fillStyle="#000",i.fillRect(0,0,s,o),i.strokeStyle="#555",i.lineWidth=1,i.beginPath(),i.moveTo(0,n),i.lineTo(s,n),i.stroke(),i.strokeStyle="#ff0000",i.lineWidth=2,i.beginPath();for(let t=0;t<l.length;t++){const e=l[t],s=c[t]*a,o=t*r,h=n-Math.sin(2*Math.PI*e*o)*s;0===t?i.moveTo(t,h):i.lineTo(t,h)}i.stroke(),i.strokeStyle="#00ff00",i.lineWidth=2,i.beginPath();for(let t=0;t<l.length;t++){const e=l[t],s=c[t]*a,o=t*r,h=n-Math.cos(2*Math.PI*e*o)*s;0===t?i.moveTo(t,h):i.lineTo(t,h)}i.stroke(),i.fillStyle="#ffffff",i.font="16px Arial",i.fillText("Current Frequency: ".concat(m.toFixed(2)," Hz"),10,20),i.fillText("Amplitude: ".concat(d.toFixed(0)),10,40)}()})).catch((e=>{console.error("\ub9c8\uc774\ud06c \uc811\uadfc \uc2e4\ud328:",e)}))}render(e){}}}}]);
//# sourceMappingURL=55052.fe9fd387.chunk.js.map
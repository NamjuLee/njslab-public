"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[59557,54390,52427,98655,15944,26311,83325,94967],{54390:(e,t,r)=>{r.r(t),r.d(t,{GeometryBase:()=>o});class o{constructor(e){this.scene=void 0,this.scene=e,this.scene.add(this)}render(e){}}},59557:(e,t,r)=>{r.r(t),r.d(t,{Point:()=>s});var o=r(44976),i=r(26311),n=r(52427),a=r(54390);class s extends a.GeometryBase{constructor(e){super(e.scene),this.vOld="#version 300 es\n        in vec3 a_position;\n\n        uniform float uPointSize;\n\n        void main(void) {\n            gl_PointSize = uPointSize;\n            gl_Position = vec4(a_position, 1.0);\n        }\n    ",this.fOld="#version 300 es\n        precision mediump float;\n\n        out vec4 finalColor;\n\n        void main(void) {\n            finalColor = vec4(1.0, 0.0, 0.0, 1.0);\n        }\n    ",this.v="#version 300 es\n\n        in vec3 a_position;\n\n        uniform mediump float uPointSize;\n        uniform float uAngle;\n\n        void main(void) {\n            gl_PointSize = uPointSize;\n            gl_Position = vec4(cos(uAngle) * 0.8 + a_position.x, sin(uAngle) * 0.8 + a_position.y, a_position.z, 1.0);\n        }\n    ",this.f="#version 300 es\n        precision mediump float;\n\n        uniform float uPointSize;\n\n        out vec4 finalColor;\n\n        void main(void) {\n            float c = (40. - uPointSize ) / 20.;\n            finalColor = vec4(c, c, c, 1.0);\n        }\n    ",this.app=void 0,this.gl=void 0,this.mesh=void 0,this.modal=void 0,this.shader=void 0,this.size=2.5,this.rotation=0,this.app=e,this.gl=e.canvas.gl,this.initShader(this.gl)}initShader(e){this.shader=new n.PointShader(e,this.v,this.f),this.mesh=o.VAO.createMeshVAO(e,"dots",[0,0,0,.1,.1,0,.1,-.1,0,-.1,-.1,0,-.1,.1,0]),this.mesh.drawMode=e.POINTS,this.modal=new i.Modal(this.mesh)}render(e){this.size+=.01;let t=10*Math.sin(this.size)+30;this.rotation+=.02,this.shader.activate(),this.shader.set(t,this.rotation),this.shader.renderModal(this.modal)}}},52427:(e,t,r)=>{r.r(t),r.d(t,{PointShader:()=>i});var o=r(83325);class i extends o.Shader{constructor(e,t,r){super(e,t,r),this.program&&(this.uniformLoc.uPointSize=e.getUniformLocation(this.program,"uPointSize"),this.uniformLoc.uAngle=e.getUniformLocation(this.program,"uAngle")),e.useProgram(null)}set(e,t){return this.gl.uniform1f(this.uniformLoc.uPointSize,e),this.gl.uniform1f(this.uniformLoc.uAngle,t),this}}},98655:(e,t,r)=>{r.r(t),r.d(t,{GLShaderCommon:()=>o});class o{static getShaderProgram(e,t,r){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=o.createShader(e,e.VERTEX_SHADER,t),a=o.createShader(e,e.FRAGMENT_SHADER,r);if(n&&a){let t=o.createProgram(e,n,a,i);return t||(console.error("vertex fragment shader error"),null)}return console.error("vertex fragment shader error"),null}static getShader(e,t,r){const o=e.createShader(t);return null===o?null:(e.shaderSource(o,r),e.compileShader(o),e.getShaderParameter(o,e.COMPILE_STATUS)?o:(console.log("An error occurred compiling the shaders:"+e.getShaderInfoLog(o)),e.deleteShader(o),null))}static createProgram(e,t,r){let o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i=e.createProgram();if(null===i)return null;if(e.attachShader(i,t),e.attachShader(i,r),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){const o=e.getProgramInfoLog(i);return console.log("Failed to link program: "+o),e.deleteProgram(i),e.deleteShader(r),e.deleteShader(t),null}return o&&(e.validateProgram(i),!e.getProgramParameter(i,e.VALIDATE_STATUS))?(console.error("Failed to validate program",e.getProgramInfoLog(i)),e.deleteProgram(i),e.deleteShader(r),e.deleteShader(t),null):(e.deleteShader(r),e.deleteShader(t),i)}static createShader(e,t,r){const o=e.createShader(t);if(null===o)return null;e.shaderSource(o,r),e.compileShader(o);return e.getShaderParameter(o,e.COMPILE_STATUS)?o:(console.log(e.getShaderInfoLog(o)),e.deleteShader(o),null)}static createShaderFromPath(e,t,r){const i=e.createShader(t);if(null===i)return null;e.shaderSource(i,o.getSourceSynch(r)),e.compileShader(i);return e.getShaderParameter(i,e.COMPILE_STATUS)?i:(console.log(e.getShaderInfoLog(i)),e.deleteShader(i),null)}static getSourceSynch(e){const t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),200===t.status?t.responseText:null}static loadImage(e,t){const r=new Image;r.onload=function(){t(null,r)},r.src=e}}},15944:(e,t,r)=>{let o;r.r(t),r.d(t,{ATTR:()=>o,AttribLocations:()=>i}),function(e){e.ATTR_POSITION_NAME="a_position",e[e.ATTR_POSITION_LOC=0]="ATTR_POSITION_LOC",e.ATTR_NORMAL_NAME="a_norm",e[e.ATTR_NORMAL_LOC=1]="ATTR_NORMAL_LOC",e.ATTR_UV_NAME="a_uv",e[e.ATTR_UV_LOC=2]="ATTR_UV_LOC",e[e.ATTR_COLOR_LOC=4]="ATTR_COLOR_LOC",e.ATTR_COLOR_NAME="a_color"}(o||(o={}));class i{constructor(e,t){this.position=void 0,this.normal=void 0,this.uv=void 0,this.position=e.getAttribLocation(t,o.ATTR_NORMAL_NAME),this.normal=e.getAttribLocation(t,o.ATTR_NORMAL_NAME),this.uv=e.getAttribLocation(t,o.ATTR_UV_NAME)}}},26311:(e,t,r)=>{r.r(t),r.d(t,{Modal:()=>o});class o{constructor(e){this.mesh=void 0,this.mesh=e}preRender(){}}},83325:(e,t,r)=>{r.r(t),r.d(t,{Shader:()=>a,UniformLoc:()=>n});var o=r(98655),i=r(15944);class n{constructor(){this.uPointSize=void 0,this.uAngle=void 0}}class a{constructor(e,t,r){this.gl=void 0,this.program=void 0,this.attribLoc=void 0,this.uniformLoc=void 0,this.program=o.GLShaderCommon.getShaderProgram(e,t,r,!0),null!=this.program&&(this.gl=e,e.useProgram(this.program),this.attribLoc=new i.AttribLocations(e,this.program),this.uniformLoc=new n)}activate(){return this.gl.useProgram(this.program),this}deactivate(){return this.gl.useProgram(null),this}dispose(){this.gl.getParameter(this.gl.CURRENT_PROGRAM)===this.program&&this.gl.useProgram(null),this.gl.deleteProgram(this.program)}preRender(){}renderModal(e){return this.gl.bindVertexArray(e.mesh.vao),e.mesh.indexCount?this.gl.drawElements(e.mesh.drawMode,e.mesh.indexCount,this.gl.UNSIGNED_SHORT,0):this.gl.drawArrays(e.mesh.drawMode,0,e.mesh.vertexCount),this.gl.bindVertexArray(null),this}}},44976:(e,t,r)=>{r.r(t),r.d(t,{DRAW_MODE:()=>i,RTN:()=>n,VAO:()=>a});var o=r(15944);let i;i||(i={});class n{constructor(){this.name=void 0,this.vao=void 0,this.bufVertices=void 0,this.bufNormals=void 0,this.bufUV=void 0,this.bufIndex=void 0,this.vertexComponentLen=void 0,this.vertexCount=void 0,this.indexCount=void 0,this.drawMode=void 0}}class a{static createMeshVAO(e,t,r,i,a,s){let l=new n;return l.name=t,l.drawMode=e.TRIANGLES,l.vao=e.createVertexArray(),e.bindVertexArray(l.vao),void 0!==r&&null!=r&&(l.bufVertices=e.createBuffer(),l.vertexComponentLen=3,l.vertexCount=r.length/l.vertexComponentLen,e.bindBuffer(e.ARRAY_BUFFER,l.bufVertices),e.bufferData(e.ARRAY_BUFFER,new Float32Array(r),e.STATIC_DRAW),e.enableVertexAttribArray(o.ATTR.ATTR_POSITION_LOC),e.vertexAttribPointer(o.ATTR.ATTR_POSITION_LOC,3,e.FLOAT,!1,0,0)),void 0!==a&&null!=a&&(l.bufNormals=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,l.bufNormals),e.bufferData(e.ARRAY_BUFFER,new Float32Array(a),e.STATIC_DRAW),e.enableVertexAttribArray(o.ATTR.ATTR_NORMAL_LOC),e.vertexAttribPointer(o.ATTR.ATTR_NORMAL_LOC,3,e.FLOAT,!1,0,0)),void 0!==s&&null!=s&&(l.bufUV=e.createBuffer(),e.bindBuffer(e.ARRAY_BUFFER,l.bufUV),e.bufferData(e.ARRAY_BUFFER,new Float32Array(s),e.STATIC_DRAW),e.enableVertexAttribArray(o.ATTR.ATTR_UV_LOC),e.vertexAttribPointer(o.ATTR.ATTR_UV_LOC,2,e.FLOAT,!1,0,0)),void 0!==i&&null!=i&&(l.bufIndex=e.createBuffer(),l.indexCount=i.length,e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,l.bufIndex),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array(i),e.STATIC_DRAW),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null)),e.bindVertexArray(null),e.bindBuffer(e.ARRAY_BUFFER,null),l}constructor(){}}}}]);
//# sourceMappingURL=59557.51175f94.chunk.js.map
"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[64274],{66681:(t,e,r)=>{function s(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function n(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function i(t,e){return new Float64Array(t,e,16)}r.d(e,{I:()=>o,a:()=>i,b:()=>n,c:()=>s});const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,create:s,clone:n,fromValues:function(t,e,r,s,n,i,o,a,u,c,l,p,h,d,f,m){return[t,e,r,s,n,i,o,a,u,c,l,p,h,d,f,m]},createView:i,IDENTITY:o},Symbol.toStringTag,{value:"Module"}))},48785:(t,e,r)=>{r.d(e,{a:()=>g,c:()=>m,g:()=>y,h:()=>_,j:()=>v,m:()=>N});r(34276);var s,n=r(92249),i=r(78974),o=r(94452),a=r(56857),u=r(3826),c=r(99957),l=r(69842),p=r(72156);!function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"}(s||(s={}));var h=r(1569),d=r(94689),f=r(86036);function m(){return(0,p.c)()}function _(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m();return(0,l.c)(e,t)}function g(t){return t[3]}function y(t){return t}function I(t,e,r){if((0,o.Wi)(e))return!1;const{origin:s,direction:n}=e,i=S;i[0]=s[0]-t[0],i[1]=s[1]-t[1],i[2]=s[2]-t[2];const a=n[0]*n[0]+n[1]*n[1]+n[2]*n[2];if(0===a)return!1;const u=2*(n[0]*i[0]+n[1]*i[1]+n[2]*i[2]),c=u*u-4*a*(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]-t[3]*t[3]);if(c<0)return!1;const l=Math.sqrt(c);let p=(-u-l)/(2*a);const h=(-u+l)/(2*a);return(p<0||h<p&&h>0)&&(p=h),!(p<0)&&(r&&(r[0]=s[0]+n[0]*p,r[1]=s[1]+n[1]*p,r[2]=s[2]+n[2]*p),!0)}const S=(0,c.c)();function v(t,e){return I(t,e,null)}function E(t,e,r){const s=f.WM.get(),n=f.MP.get();(0,u.f)(s,e.origin,e.direction);const i=g(t);(0,u.f)(r,s,e.origin),(0,u.g)(r,r,1/(0,u.l)(r)*i);const o=M(t,e.origin),c=(0,d.EU)(e.origin,r);return(0,a.d)(n,c+o,s),(0,u.m)(r,r,n),r}function P(t,e,r){const s=(0,u.b)(f.WM.get(),e,t),n=(0,u.g)(f.WM.get(),s,t[3]/(0,u.l)(s));return(0,u.a)(r,n,t)}function M(t,e){const r=(0,u.b)(f.WM.get(),e,t),s=(0,u.l)(r),n=g(t),o=n+Math.abs(n-s);return(0,i.ZF)(n/o)}const T=(0,c.c)();function w(t,e,r,n){const o=(0,u.b)(T,e,t);switch(r){case s.X:{const t=(0,i.jE)(o,T)[2];return(0,u.s)(n,-Math.sin(t),Math.cos(t),0)}case s.Y:{const t=(0,i.jE)(o,T),e=t[1],r=t[2],s=Math.sin(e);return(0,u.s)(n,-s*Math.cos(r),-s*Math.sin(r),Math.cos(e))}case s.Z:return(0,u.n)(n,o);default:return}}function A(t,e){const r=(0,u.b)(b,e,t);return(0,u.l)(r)-t[3]}function N(t,e){const r=(0,u.d)(t,e),s=g(t);return r<=s*s}const b=(0,c.c)(),R=m();Object.freeze(Object.defineProperty({__proto__:null,create:m,copy:_,fromCenterAndRadius:function(t,e){return(0,p.f)(t[0],t[1],t[2],e)},wrap:function(t){return t},clear:function(t){t[0]=t[1]=t[2]=t[3]=0},fromRadius:function(t,e){return t[0]=t[1]=t[2]=0,t[3]=e,t},getRadius:g,getCenter:y,fromValues:function(t,e,r,s){return(0,p.f)(t,e,r,s)},elevate:function(t,e,r){return t!==r&&(0,u.c)(r,t),r[3]=t[3]+e,r},setExtent:function(t,e,r){return n.Z.getLogger("esri.geometry.support.sphere").error("sphere.setExtent is not yet supported"),t===r?r:_(t,r)},intersectRay:I,intersectsRay:v,intersectRayClosestSilhouette:function(t,e,r){if(I(t,e,r))return r;const s=E(t,e,f.WM.get());return(0,u.a)(r,e.origin,(0,u.g)(f.WM.get(),e.direction,(0,u.i)(e.origin,s)/(0,u.l)(e.direction))),r},closestPointOnSilhouette:E,closestPoint:function(t,e,r){return I(t,e,r)?r:((0,h.JI)(e,t,r),P(t,r,r))},projectPoint:P,distanceToSilhouette:function(t,e){const r=(0,u.b)(f.WM.get(),e,t),s=(0,u.p)(r),n=t[3]*t[3];return Math.sqrt(Math.abs(s-n))},angleToSilhouette:M,axisAt:w,altitudeAt:A,setAltitudeAt:function(t,e,r,n){const i=A(t,e),o=w(t,e,s.Z,b),a=(0,u.g)(b,o,r-i);return(0,u.a)(n,e,a)},containsPoint:N,tmpSphere:R},Symbol.toStringTag,{value:"Module"}))},967:(t,e,r)=>{r.d(e,{x:()=>n});var s=r(34696);class n{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,s.Y)((()=>this._reset())),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*i);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,i));t++)this._items.push(this._allocator())}}const i=1024},88421:(t,e,r)=>{r(78974),r(3826);var s=r(99957);r(48785),r(94689),r(86036);(0,s.c)(),(0,s.c)(),(0,s.c)(),(0,s.c)(),(0,s.c)();(0,s.c)(),(0,s.c)(),(0,s.c)(),(0,s.c)(),(0,s.c)();var n;!function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"}(n||(n={}));n.INFINITE_MIN,n.INFINITE_MAX,n.INFINITE_MAX},1569:(t,e,r)=>{r.d(e,{JI:()=>c,Ue:()=>o,re:()=>u});r(83194);var s=r(967),n=r(3826),i=r(99957);r(86036);function o(t){return t?a((0,i.a)(t.origin),(0,i.a)(t.direction)):a((0,i.c)(),(0,i.c)())}function a(t,e){return{origin:t,direction:e}}function u(t,e){const r=l.get();return r.origin=t,r.direction=e,r}function c(t,e,r){const s=(0,n.e)(t.direction,(0,n.b)(r,e,t.origin));return(0,n.a)(r,t.origin,(0,n.g)(r,t.direction,s)),r}const l=new s.x((()=>o()))},94689:(t,e,r)=>{r.d(e,{EU:()=>o});var s=r(78974),n=r(3826),i=r(99957);function o(t,e){const r=(0,n.e)(t,e)/((0,n.l)(t)*(0,n.l)(e));return-(0,s.ZF)(r)}(0,i.c)(),(0,i.c)()},86036:(t,e,r)=>{r.d(e,{MP:()=>f,WM:()=>d});var s=r(36718),n=r(34696),i=r(84277),o=r(66681),a=r(97069),u=r(19231),c=r(99957),l=r(72156);class p{constructor(t,e,r){this._itemByteSize=t,this._itemCreate=e,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(r/this._itemByteSize)}get(){0===this._itemsPtr&&(0,n.Y)((()=>this._reset()));const t=Math.floor(this._itemsPtr/this._itemsPerBuffer);for(;this._buffers.length<=t;){const t=new ArrayBuffer(this._itemsPerBuffer*this._itemByteSize);for(let e=0;e<this._itemsPerBuffer;++e)this._items.push(this._itemCreate(t,e*this._itemByteSize));this._buffers.push(t)}return this._items[this._itemsPtr++]}_reset(){const t=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);for(;this._buffers.length>t;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}static createVec2f64(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return new p(16,u.c,t)}static createVec3f64(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return new p(24,c.b,t)}static createVec4f64(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return new p(32,l.a,t)}static createMat3f64(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return new p(72,i.a,t)}static createMat4f64(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return new p(128,o.a,t)}static createQuatf64(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return new p(32,a.c,t)}get test(){return{size:this._buffers.length*this._itemsPerBuffer*this._itemByteSize}}}const h=4*s.Y8.KILOBYTES,d=(p.createVec2f64(),p.createVec3f64()),f=(p.createVec4f64(),p.createMat3f64(),p.createMat4f64());p.createQuatf64()},43520:(t,e,r)=>{r.d(e,{W:()=>l});var s=r(21671),n=r(69279),i=r(94452),o=r(3341),a=r(83817),u=r(51171),c=r(13358);class l{constructor(t,e,r,s){var n;this._parsedUrl=t,this._portalItem=e,this._apiKey=r,this.signal=s,this._rootDocument=null;const i=null===(n=this._parsedUrl)||void 0===n?void 0:n.path.match(/^(.*)\/SceneServer\/layers\/([\d]*)\/?$/i);i&&(this._urlParts={root:i[1],layerId:parseInt(i[2],10)})}async fetch(){var t;if(!this._urlParts)return null;const e=null!==(t=this._portalItem)&&void 0!==t?t:await this._portalItemFromServiceItemId();if((0,i.Wi)(e))return this._loadFromUrl();const r=await this._findAndLoadRelatedPortalItem(e);return(0,i.Wi)(r)?null:this._loadFeatureLayerFromPortalItem(r)}async fetchPortalItem(){var t;if(!this._urlParts)return null;const e=null!==(t=this._portalItem)&&void 0!==t?t:await this._portalItemFromServiceItemId();return(0,i.Wi)(e)?null:this._findAndLoadRelatedPortalItem(e)}async _fetchRootDocument(){if((0,i.pC)(this._rootDocument))return this._rootDocument;if((0,i.Wi)(this._urlParts))return this._rootDocument={},{};const t={query:{f:"json",token:this._apiKey},responseType:"json",signal:this.signal},e="".concat(this._urlParts.root,"/SceneServer");try{const r=await(0,n.default)(e,t);this._rootDocument=r.data}catch(r){this._rootDocument={}}return this._rootDocument}async _fetchServiceOwningPortalUrl(){var t;const e=null===(t=this._parsedUrl)||void 0===t?void 0:t.path,r=e?null===s.id||void 0===s.id?void 0:s.id.findServerInfo(e):null;if(null!==r&&void 0!==r&&r.owningSystemUrl)return r.owningSystemUrl;const i=e?e.replace(/(.*\/rest)\/.*/i,"$1")+"/info":null;try{const t=(await(0,n.default)(i,{query:{f:"json"},responseType:"json",signal:this.signal})).data.owningSystemUrl;if(t)return t}catch(a){(0,o.r9)(a)}return null}async _findAndLoadRelatedPortalItem(t){try{return(await t.fetchRelatedItems({relationshipType:"Service2Service",direction:"reverse"},{signal:this.signal})).find((t=>"Feature Service"===t.type))||null}catch(e){return(0,o.r9)(e),null}}async _loadFeatureLayerFromPortalItem(t){var e;await t.load({signal:this.signal});const r=await this._findMatchingAssociatedSublayerUrl(null!==(e=t.url)&&void 0!==e?e:"");return new a.default({url:r,portalItem:t}).load({signal:this.signal})}async _loadFromUrl(){var t;const e=await this._findMatchingAssociatedSublayerUrl("".concat(null===(t=this._urlParts)||void 0===t?void 0:t.root,"/FeatureServer"));return new a.default({url:e}).load({signal:this.signal})}async _findMatchingAssociatedSublayerUrl(t){var e;const r=t.replace(/^(.*FeatureServer)(\/[\d]*\/?)?$/i,"$1"),s={query:{f:"json"},responseType:"json",authMode:"no-prompt",signal:this.signal},i=null===(e=this._urlParts)||void 0===e?void 0:e.layerId,o=this._fetchRootDocument(),a=(0,n.default)(r,s),[u,c]=await Promise.all([a,o]),l=c&&c.layers,p=u.data&&u.data.layers;if(!Array.isArray(p))throw new Error("expected layers array");if(Array.isArray(l)){for(let n=0;n<Math.min(l.length,p.length);n++)if(l[n].id===i)return"".concat(r,"/").concat(p[n].id)}else if(null!=i&&i<p.length)return"".concat(r,"/").concat(p[i].id);throw new Error("could not find matching associated sublayer")}async _portalItemFromServiceItemId(){const t=(await this._fetchRootDocument()).serviceItemId;if(!t)return null;const e=new c.default({id:t,apiKey:this._apiKey}),r=await this._fetchServiceOwningPortalUrl();(0,i.pC)(r)&&(e.portal=new u.Z({url:r}));try{return e.load({signal:this.signal})}catch(s){return(0,o.r9)(s),null}}}},17666:(t,e,r)=>{r.d(e,{C:()=>s});const s={analytics:{supportsCacheHint:!1},attachment:{supportsContentType:!1,supportsExifInfo:!1,supportsKeywords:!1,supportsName:!1,supportsSize:!1,supportsCacheHint:!1,supportsResize:!1},data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUpdateWithoutM:!1,supportsUploadWithItemId:!1},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAnalytics:!1,supportsQueryAttachments:!1,supportsQueryTopFeatures:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1,supportsCacheHint:!1},queryTopFeatures:{supportsCacheHint:!1},query:{maxRecordCount:0,maxRecordCountFactor:0,standardMaxRecordCount:0,supportsCacheHint:!1,supportsCentroid:!1,supportsCompactGeometry:!1,supportsDefaultSpatialReference:!1,supportsFullTextSearch:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsSqlExpression:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsStatistics:!1,tileMaxRecordCount:0}}},81699:(t,e,r)=>{r.d(e,{xe:()=>v});var s=r(69279),n=(r(83194),r(64299),r(34276),r(3341)),i=r(97178),o=(r(46541),r(84277)),a=(r(56857),r(66681)),u=(r(49526),r(9894)),c=r(97069),l=(r(3826),r(99957)),p=(r(62348),r(26944),r(74174),r(3002)),h=(r(95985),r(35973),r(68018),r(92422));var d,f=r(18489),m=(r(29963),r(72156));function _(t){return(0,f.Z)((0,f.Z)((0,f.Z)({},g),t),{},{type:"solid"})}!function(t){t[t.INVISIBLE=0]="INVISIBLE",t[t.TRANSPARENT=1]="TRANSPARENT",t[t.OPAQUE=2]="OPAQUE"}(d||(d={}));const g={color:(0,m.f)(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:d.OPAQUE,hasSlicePlane:!1};(0,m.f)(0,0,0,.2),d.OPAQUE;r(45049);var y=r(4255);r(69842),r(19862),r(88421);(0,c.a)(),(0,l.c)(),(0,l.c)(),(0,m.c)(),(0,o.c)();function I(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[-1,-1,-1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,0,1];return{center:(0,l.a)(t),halfSize:(0,y.b)(e),quaternion:(0,u.b)(r)}}(()=>{const t=new Int8Array(162);let e=0;const r=r=>{for(let s=0;s<r.length;s++)t[e+s]=r[s];e+=6};r([6,2,3,1,5,4]),r([0,2,3,1,5,4]),r([0,2,3,7,5,4]),r([0,1,3,2,6,4]),r([0,1,3,2,0,0]),r([0,1,5,7,3,2]),r([0,1,3,7,6,4]),r([0,1,3,7,6,2]),r([0,1,5,7,6,2]),r([0,1,5,4,6,2]),r([0,1,5,4,0,0]),r([0,1,3,7,5,4]),r([0,2,6,4,0,0]),r([0,0,0,0,0,0]),r([1,3,7,5,0,0]),r([2,3,7,6,4,0]),r([2,3,7,6,0,0]),r([2,3,1,5,7,6]),r([0,1,5,7,6,2]),r([0,1,5,7,6,4]),r([0,1,3,7,6,4]),r([4,5,7,6,2,0]),r([4,5,7,6,0,0]),r([4,5,1,3,7,6]),r([0,2,3,7,5,4]),r([6,2,3,7,5,4]),r([6,2,3,1,5,4])})();(0,p.Ue)();var S;function v(t,e,r,i,o){const a=[];for(const s of e)if(s&&o.includes(s.name)){const e="".concat(t,"/nodes/").concat(r,"/attributes/").concat(s.key,"/0");a.push({url:e,storageInfo:s})}return(0,n.as)(a.map((t=>(0,s.default)(t.url,{responseType:"array-buffer"}).then((e=>(0,h.qM)(t.storageInfo,e.data)))))).then((t=>{const e=[];for(const r of i){const s={};for(let e=0;e<t.length;e++)null!=t[e].value&&(s[a[e].storageInfo.name]=M(t[e].value,r));e.push(s)}return e}))}!function(t){t[t.OUTSIDE=0]="OUTSIDE",t[t.INTERSECTS_CENTER_OUTSIDE=1]="INTERSECTS_CENTER_OUTSIDE",t[t.INTERSECTS_CENTER_INSIDE=2]="INTERSECTS_CENTER_INSIDE",t[t.INSIDE=3]="INSIDE"}(S||(S={}));const E=-32768,P=-(2**31);function M(t,e){if(!t)return null;const r=t[e];return(0,i.z3)(t)?r===E?null:r:(0,i.Hx)(t)?r===P?null:r:r!=r?null:r}_({color:[0,0,0,0],opacity:0});(0,l.c)(),(0,l.c)(),(0,l.c)(),(0,c.a)();new Float64Array(24),(0,l.c)(),(0,l.c)(),(0,o.c)();(0,a.c)(),(0,u.c)(),(0,p.Ue)(),(0,p.Ue)(),I(),new Array(72),(0,a.c)()},45049:(t,e,r)=>{r.d(e,{a9:()=>s});var s;r(78974);!function(t){t[t.Multiply=1]="Multiply",t[t.Ignore=2]="Ignore",t[t.Replace=3]="Replace",t[t.Tint=4]="Tint"}(s||(s={}))},94242:(t,e,r)=>{r.d(e,{V:()=>o,e:()=>i});var s=r(94452),n=r(11004);async function i(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.popupTemplate;if((0,s.Wi)(e))return[];const r=await e.getRequiredFields(t.fieldsIndex),{lastEditInfoEnabled:i}=e,{objectIdField:o,typeIdField:a,globalIdField:u,relationships:c}=t;if(r.includes("*"))return["*"];const l=i?await(0,n.CH)(t):[],p=(0,n.Q0)(t.fieldsIndex,[...r,...l]);return a&&p.push(a),p&&o&&t.fieldsIndex.has(o)&&!p.includes(o)&&p.push(o),p&&u&&t.fieldsIndex.has(u)&&!p.includes(u)&&p.push(u),c&&c.forEach((e=>{const{keyField:r}=e;p&&r&&t.fieldsIndex.has(r)&&!p.includes(r)&&p.push(r)})),p}function o(t,e){return t.popupTemplate?t.popupTemplate:(0,s.pC)(e)&&e.defaultPopupTemplateEnabled&&(0,s.pC)(t.defaultPopupTemplate)?t.defaultPopupTemplate:null}}}]);
//# sourceMappingURL=64274.25067ad7.chunk.js.map
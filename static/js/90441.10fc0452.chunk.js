"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[90441],{90441:(t,s,e)=>{e.r(s),e.d(s,{CanvasNavigation:()=>h,Solution:()=>n,Vector:()=>a,applyBoundaries:()=>r,zoomOffset:()=>d});var i=e(18489);class n{constructor(t){this.divHost=void 0,this.renderer=void 0,this.div=void 0,this.divHost=document.getElementById(t),this.divHost.style.display="flex",this.divHost.style.alignItems="center",this.div=document.createElement("div"),this.div.style.marginLeft="auto",this.div.style.marginRight="auto",this.div.style.backgroundColor="#555",this.div.style.width="1000px",this.div.style.height="600px",this.divHost.appendChild(this.div),this.renderer=new h(this)}destroy(){for(this.renderer.destroy();this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}}class h{constructor(t){this.solution=void 0,this.canvas=void 0,this.statusRendering=void 0,this.statusTarget=new a(200,200,4),this.needInterpolation=!1,this.img=void 0,this.ctx=void 0,this.speedInterpolation=.1,this.easingInterpolation=!0,this.solution=t,this.canvas=document.createElement("canvas"),this.canvas.style.background="#555",this.canvas.width=1e3,this.canvas.height=600,t.div.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.statusRendering=new a(0,0,1);let s=new a(0,0,1),e=new a(0,0,1),i=!1;this.canvas.addEventListener("mousedown",(t=>{const{offsetX:s,offsetY:n}=t;e.x=s,e.y=n,i=!0})),this.canvas.addEventListener("mouseup",(t=>{if(!i)return;const{offsetX:n,offsetY:h}=t,a=n-e.x,d=h-e.y;s.x+=a,s.y+=d,i=!1})),this.canvas.addEventListener("wheel",(t=>{const{offsetX:i,offsetY:n,deltaY:h}=t,a=h<0?1:-1;e.z+=.2*a,e.z<.2?e.z=.2:e.z>2&&(e.z=2);const{x:r,y:o}=d(this.canvas,e.z,{x:i,y:n},s);s.x=r,s.y=o,s.z=e.z,this.statusRendering.x=r,this.statusRendering.y=o,this.statusRendering.z=e.z})),this.canvas.addEventListener("mousemove",(t=>{if(!i)return;const{offsetX:n,offsetY:h}=t,a=s.x+(n-e.x),d=s.y+(h-e.y),{x:o,y:c}=r(this.canvas,s.z,{x:a,y:d});console.log("dddd"),this.statusRendering.x=o,this.statusRendering.y=c,this.statusRendering.z=s.z})),this.render(this.ctx)}destroy(){}render(t){requestAnimationFrame((()=>{this.render(t)})),t.clearRect(0,0,t.canvas.width,t.canvas.height),t.save(),t.translate(this.statusRendering.x,this.statusRendering.y),t.beginPath(),t.arc(100,100,100,0,2*Math.PI),t.closePath(),t.fill(),t.restore()}}class a{static add(t,s){return new a(t.x+s.x,t.y+s.y,t.z+s.z)}static subtract(t,s){return new a(t.x-s.x,t.y-s.y,t.z-s.z)}static distance(t,s){return Math.sqrt((t.x-s.x)*(t.x-s.x)+(t.y-s.y)*(t.y-s.y)+(t.z-s.z)*(t.z-s.z))}static deepCopy(t){return new a(t.x,t.y,t.z)}constructor(t,s,e){this.x=void 0,this.y=void 0,this.z=void 0,this.x=t,this.y=s,this.z=e}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let t=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);this.x/=t,this.y/=t,this.z/=t}}const d=(t,s,e,n)=>{let{x:h,y:a}=e;const d=1!==s,o=d?(h+Math.abs(n.x))/n.z:h,c=d?(a+Math.abs(n.y))/n.z:a,v=o-o*s+(h-o),l=c-c*s+(a-c);return(0,i.Z)({},r(t,s,{x:v,y:l}))},r=(t,s,e)=>{let{x:i,y:n}=e;const h=1-s,a=h*t.width,d=h*t.height;return i>0?i=0:i<a&&(i=a),n>0?n=0:n<d&&(n=d),{x:i,y:n}}}}]);
//# sourceMappingURL=90441.10fc0452.chunk.js.map
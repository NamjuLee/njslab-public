"use strict";(self.webpackChunkNJS_Lab=self.webpackChunkNJS_Lab||[]).push([[90834],{90834:(t,e,s)=>{let a;s.r(e),s.d(e,{Solution:()=>N}),function(t){t.RGB="RGB",t.HSV="HSV",t.LAB="LAB"}(a||(a={}));const i=(t,e,s)=>{let a,i,n=(t+16)/116,o=e/500+n,h=n-s/200,r=0;return o=.95047*(o*o*o>.008856?o*o*o:(o-16/116)/7.787),n=1*(n*n*n>.008856?n*n*n:(n-16/116)/7.787),h=1.08883*(h*h*h>.008856?h*h*h:(h-16/116)/7.787),a=3.2406*o+-1.5372*n+-.4986*h,i=-.9689*o+1.8758*n+.0415*h,r=.0557*o+-.204*n+1.057*h,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:12.92*a,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*Math.max(0,Math.min(1,a)),255*Math.max(0,Math.min(1,i)),255*Math.max(0,Math.min(1,r))]},n=(t,e,s)=>"#"+[Math.round(t),Math.round(e),Math.round(s)].map((t=>{const e=t.toString(16);return 1===e.length?"0"+e:e})).join("");var o=s(17760),h=s(98925);let r;!function(t){t.OPERA="Opera",t.CHROME="Chrome",t.SAFARI="Safari",t.FIREFOX="Firefox",t.IE="IE",t.EDGE="Edge",t.UNKNOWN="unknown"}(r||(r={}));const l=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return new o.VLJ(t,e)},d=(t,e,s,a,i,n)=>{const h=new o.FT0({color:"rgba(255,255,255, 0.5)",linewidth:3,scale:2,dashSize:3,gapSize:2}),r=[],l=(a-t)/10,d=(i-e)/10,c=(n-s)/10;for(let p=0;p<=10;++p){const h=t+l*p,u=e+d*p,m=s+c*p;r.push(new o.Pa4(h,e,s)),r.push(new o.Pa4(h,e,n)),r.push(new o.Pa4(t,e,m)),r.push(new o.Pa4(a,e,m)),r.push(new o.Pa4(t,u,s)),r.push(new o.Pa4(a,u,s)),r.push(new o.Pa4(h,e,s)),r.push(new o.Pa4(h,i,s)),r.push(new o.Pa4(t,e,m)),r.push(new o.Pa4(t,i,m)),r.push(new o.Pa4(t,u,s)),r.push(new o.Pa4(t,u,n))}const u=(new o.u9r).setFromPoints(r);return new o.ejS(u,h)};class c{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Title";this.app=void 0,this.canvas=void 0,this.host=void 0,this.ctx=void 0,this.t=0,this.renderer=void 0,this.camera=void 0,this.scene=void 0,this.sceneRayCast=[],this.controls=void 0,this.raycaster=void 0,this.active=!1,this.mouse=new o.FM8(0,0),this.INTERSECTED=void 0,this.dataJson=void 0,this.app=t,this.host=e;const a=document.createElement("div");this.host.append(a),a.style.position="absolute";const i=document.createElement("div");i.textContent=s,a.append(i);const n=document.createElement("div");n.textContent="download",a.append(n),n.onclick=()=>{((t,e)=>{const s=(t=>{const e=[];for(let s=0;s<t.length;s++)e.push(t.charCodeAt(s));return new Uint8Array(e)})(JSON.stringify(t,null,4)),a=new Blob([s],{type:"NJSLab/lab"}),i=URL.createObjectURL(a),n=document.createElement("a");n.setAttribute("href",i),n.setAttribute("download",e);const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(o)})(JSON.stringify(this.dataJson),"download.json")},this.InitCanvas()}InitCanvas(){this.scene=new o.xsS,this.scene.background=new o.Ilk(200,200,200),this.scene.castShadow=!0,this.scene.background=new o.Ilk(15724527),this.camera=new o.cPb(30,this.host.clientWidth/this.host.clientHeight,1,5e3),this.camera.position.set(0,0,250),this.renderer=new o.CP7({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this.host.clientWidth/this.host.clientHeight),this.renderer.domElement.id="ThreeSandbox",this.renderer.setSize(this.host.clientWidth,this.host.clientHeight),this.host.appendChild(this.renderer.domElement),this.controls=new h.OrbitControls(this.camera,this.renderer.domElement),this.controls.enablePan=!0,this.controls.enableDamping=!0,this.controls.enableZoom=!0,this.controls.rotateSpeed=.2,this.controls.zoomSpeed=2,this.controls.update(),this.raycaster=new o.iMs,this.Init()}Init(){this.EventBind(),this.Loop()}EventBind(){this.renderer.domElement.onmousemove=t=>this.MouseMove(t),this.renderer.domElement.onmousedown=t=>this.MouseDown(t),this.renderer.domElement.onmouseup=t=>this.MouseUp(t)}MouseDown(t){if(this.INTERSECTED){console.log(this.INTERSECTED.data);const t=JSON.stringify(this.INTERSECTED.data).split("&");this.app.divPanel.innerHTML="";for(let e of t)this.app.divPanel.innerHTML+=e+"<br>"}}MouseUp(t){}MouseMove(t){this.mouse.x=t.offsetX/this.host.clientWidth*2-1,this.mouse.y=-t.offsetY/this.host.clientHeight*2+1}Loop(){if(requestAnimationFrame((()=>{this.Loop()})),!this.active)return;this.controls.update(),this.raycaster.setFromCamera(this.mouse,this.camera);const t=this.raycaster.intersectObjects(this.sceneRayCast);t.length>0?this.INTERSECTED!==t[0].object&&(this.INTERSECTED,this.INTERSECTED=t[0].object):(this.INTERSECTED,this.INTERSECTED=void 0),this.renderer.render(this.scene,this.camera),this.Render(),this.t+=.01}Render(){}initVis(t,e){this.dataJson=t;const s=new o.xo$(5,10,10);for(let a=0;a<t.data.length;a++){const e=t.data[a],i=n(e.rgb[0],e.rgb[1],e.rgb[2]),h=new o.YBo({color:i});h.emissive=new o.Ilk(i);const r=new o.Kj0(s,h);r.position.x=e.xyz[0],r.position.y=e.xyz[1],r.position.z=e.xyz[2],r.scale.x=t.radius,r.scale.y=t.radius,r.scale.z=t.radius,r.data=e,this.app.threeCore.scene.add(r),this.app.threeCore.sceneRayCast.push(r)}switch(this.app.threeCore.scene.add(l(50,10)),e){case a.LAB:this.app.threeCore.scene.add(d(-0,0,-100,100,50,10));break;case a.HSV:this.app.threeCore.scene.add(d(-0,-0,-0,360,100,100));break;default:this.app.threeCore.scene.add(d(-0,-0,-0,255,255,255))}}}class u{constructor(t,e){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Title",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.RGB;this.threeCore=void 0,this.divHost=void 0,this.div=void 0,this.divPanel=void 0,this.divHost=t;const n=document.createElement("div");n&&(this.div=n,this.div.style.width="600px",this.div.style.height="400px",this.div.style.backgroundColor="#ffffff",this.div.style.margin="10px",this.div.style.float="left",this.divHost.append(this.div),this.init(e,s,i))}async init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Title",s=arguments.length>2?arguments[2]:void 0;this.threeCore=new c(this,this.div,e),this.threeCore.initVis(t,s),this.threeCore.active=!0;const a=document.createElement("div");a.style.width="300px",a.style.height="400px",a.style.background="#fdfdfd",a.style.margin="10px",a.style.float="left",this.divPanel=a,this.divHost.append(a)}}var p=s(36147);class m{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"./data/FOUNDATION-COLOR-DATA.csv";this.url=void 0,this.path=void 0,this.rawData=void 0,this.dataJson={meta:{},data:[],space:a.RGB,radius:1},this.url=t,this.path=window.location+t}async init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.RGB;this.rawData=await fetch("".concat(this.path),{mode:"cors"}),this.rawData=await this.rawData.text();let e=this.rawData.split(/\r\n|\n/),s=[];for(let a=0;a<e.length;++a){let t=e[a].split(","),i=[];for(let e=0;e<t.length;++e)(0,p.hj)(t[e])?i.push(+t[e]):i.push(t[e]);s.push(i)}let n,o,h,r,l,d,c={meta:{},data:[],space:t,radius:.2};for(let u=1;u<s.length;u+=3){if(n=s[u][1],o=(+s[u][2]+ +s[u+1][2]+ +s[u+2][2])/3,h=(+s[u][3]+ +s[u+1][3]+ +s[u+2][3])/3,r=(+s[u][4]+ +s[u+1][4]+ +s[u+2][4])/3,l=i(o,h,r),t===a.LAB)d=[h,o,-1*r];else d=l;const e={name:n,xyz:d,rgb:l,lab:[o,h,r],raw:[s[u],s[u+1],s[u+2]]};c.data.push(e)}this.dataJson=c}getDataJson(){return this.dataJson}}class v{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"./data/SKINTONE-COLOR-DATA.csv";this.url=void 0,this.path=void 0,this.rawData=void 0,this.dataJson={meta:{},data:[],space:a.RGB,radius:1},this.url=t,this.path=window.location+t}async init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.RGB;this.rawData=await fetch("".concat(this.path),{mode:"cors"}),this.rawData=await this.rawData.text();let e=this.rawData.split(/\r\n|\n/),s=[];for(let a=0;a<e.length;++a){let t=e[a].split(","),i=[];for(let e=0;e<t.length;++e)(0,p.hj)(t[e])?i.push(+t[e]):i.push(t[e]);s.push(i)}console.log("color mat :",s);let n,o,h,r,l,d,c={meta:{},data:[],space:t,radius:.1};for(let u=2;u<s.length;u++){if(n=s[u][0],o=(+s[u][1]+ +s[u][4]+ +s[u][7]+ +s[u][10]+ +s[u][13])/5,h=(+s[u][2]+ +s[u][5]+ +s[u][8]+ +s[u][11]+ +s[u][14])/5,r=(+s[u][3]+ +s[u][6]+ +s[u][9]+ +s[u][12]+ +s[u][15])/5,l=i(o,h,r),console.log("ab",u-2,h,r),t===a.LAB)d=[h,o,-1*r];else d=l;const e={name:n,xyz:d,rgb:l,lab:[o,h,r],raw:[s[u],s[u+1],s[u+2]]};c.data.push(e)}console.log(c),this.dataJson=c}getDataJson(){return this.dataJson}}class w{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"./data/SKIN-COLOR-GROUP.csv";this.url=void 0,this.path=void 0,this.rawData=void 0,this.dataJson={meta:{},data:[],space:a.RGB,radius:1},this.url=t,this.path=window.location+t}async init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.RGB;this.rawData=await fetch("".concat(this.path),{mode:"cors"}),this.rawData=await this.rawData.text();let e=this.rawData.split(/\r\n|\n/),s=[];for(let a=0;a<e.length;++a){let t=e[a].split(","),i=[];for(let e=0;e<t.length;++e)(0,p.hj)(t[e])?i.push(+t[e]):i.push(t[e]);s.push(i)}let n,o,h,r,l,d,c={meta:{},data:[],space:t,radius:1,group:""};for(let u=1;u<s.length;u+=3){if(n=s[u][1],o=(+s[u][2]+ +s[u+1][2]+ +s[u+2][2])/3,h=(+s[u][3]+ +s[u+1][3]+ +s[u+2][3])/3,r=(+s[u][4]+ +s[u+1][4]+ +s[u+2][4])/3,l=i(o,h,r),t===a.LAB)d=[h,o,-1*r];else d=l;const e={name:n,xyz:d,rgb:l,lab:[o,h,r],raw:[s[u],s[u+1],s[u+2]],group:s[u][5]};c.data.push(e)}this.dataJson=c}getDataJson(){return this.dataJson}}class E{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"./data/PERSONAL-COLOR-FABRIC-TOOL.csv";this.url=void 0,this.path=void 0,this.rawData=void 0,this.dataJson={meta:{},data:[],space:a.RGB,radius:1},this.url=t,this.path=window.location+t}async init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.RGB;this.rawData=await fetch("".concat(this.path),{mode:"cors"}),this.rawData=await this.rawData.text();let e=this.rawData.split(/\r\n|\n/),s=[];for(let a=0;a<e.length;++a){let t=e[a].split(","),i=[];for(let e=0;e<t.length;++e)(0,p.hj)(t[e])?i.push(+t[e]):i.push(t[e]);s.push(i)}let n,o,h,r,l,d,c={meta:{},data:[],space:t,radius:1};for(let u=1;u<s.length;u+=3){if(n=s[u][1],o=(+s[u][2]+ +s[u+1][2]+ +s[u+2][2])/3,h=(+s[u][3]+ +s[u+1][3]+ +s[u+2][3])/3,r=(+s[u][4]+ +s[u+1][4]+ +s[u+2][4])/3,l=i(o,h,r),t===a.LAB)d=[h,o,-1*r];else d=l;const e={name:n,xyz:d,rgb:l,lab:[o,h,r],raw:[s[u],s[u+1],s[u+2]]};c.data.push(e)}this.dataJson=c}getDataJson(){return this.dataJson}}class g{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"./data/PCCS-COLOR.csv";this.url=void 0,this.path=void 0,this.rawData=void 0,this.dataJson={meta:{},data:[],space:a.RGB,radius:1},this.url=t,this.path=window.location+t}async init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.RGB;this.rawData=await fetch("".concat(this.path),{mode:"cors"}),this.rawData=await this.rawData.text();let e=this.rawData.split(/\r\n|\n/),s=[];for(let a=0;a<e.length;++a){let t=e[a].split(","),i=[];for(let e=0;e<t.length;++e)(0,p.hj)(t[e])?i.push(+t[e]):i.push(t[e]);s.push(i)}let n,o,h,r,l,d,c={meta:{},data:[],space:t,radius:1};for(let u=1;u<s.length;u+=3){if(n=s[u][1],o=(+s[u][2]+ +s[u+1][2]+ +s[u+2][2])/3,h=(+s[u][3]+ +s[u+1][3]+ +s[u+2][3])/3,r=(+s[u][4]+ +s[u+1][4]+ +s[u+2][4])/3,l=i(o,h,r),t===a.LAB)d=[h,o,-1*r];else d=l;const e={name:n,xyz:d,rgb:l,lab:[o,h,r],raw:[s[u],s[u+1],s[u+2]]};c.data.push(e)}this.dataJson=c}getDataJson(){return this.dataJson}}class f{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://raw.githubusercontent.com/NamjuLee/data/master/color/color-data.json";this.space=void 0,this.url=void 0,this.rawData=void 0,this.dataJson={meta:{},data:[],space:a.RGB,radius:1},this.url=t}async init(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.RGB;this.rawData=await fetch("".concat(this.url),{mode:"cors"}),this.rawData=await this.rawData.json();let e,s,i,n,o,h,r={meta:{},data:[],space:t,radius:1};for(let l in this.rawData){switch(i=l,s=this.rawData[l].name,n=this.rawData[l].lab,o=this.rawData[l].rgb,h=this.rawData[l].hsv,t){case a.HSV:e=this.rawData[l].hsv;break;case a.LAB:const t=this.rawData[l].lab;e=[t[1],t[0],-1*t[2]];break;default:e=this.rawData[l].rgb}const d={name:s,hex:i,xyz:e,rgb:o,lab:n,hsv:h};r.data.push(d)}this.dataJson=r}getDataJson(){return this.dataJson}}class D{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"TrainData.json";this.data=void 0,this.fileName=void 0,this.data=t,this.fileName=e}DownloadJSON(){let t={};this.data.forEach(((e,s,a)=>{t[s]=e}));let e=this.EncodeFromJSONstringify(JSON.stringify(t,null));const s=new Blob([e],{type:"esri/drawingTool"}),a=URL.createObjectURL(s),i=document.createElement("a");i.setAttribute("href",a),i.setAttribute("download",this.fileName+".json");const n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(n)}DownloadCSV(){let t="";for(let n=0;n<this.data.length;++n){for(let e=0;e<this.data[n].length;++e)t+=this.data[n][e],e<this.data[n].length-1&&(t+=",");t+="\n"}const e=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=URL.createObjectURL(e),a=document.createElement("a");a.setAttribute("href",s),a.setAttribute("download",this.fileName+".csv");const i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(i)}Dummy(){}EncodeFromJSONstringify(t){let e=[];for(let s=0;s<t.length;s++)e.push(t.charCodeAt(s));return new Uint8Array(e)}}class b{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Title";this.canvas=void 0,this.host=void 0,this.ctx=void 0,this.t=0,this.renderer=void 0,this.camera=void 0,this.scene=void 0,this.sceneRayCast=[],this.controls=void 0,this.raycaster=void 0,this.active=!1,this.mouse=new o.FM8(0,0),this.INTERSECTED=void 0,this.v=[0,0,0],this.host=t;const s=document.createElement("div");this.host.append(s),s.style.position="absolute";const a=document.createElement("div");a.textContent=e,s.append(a);const i=document.createElement("div");i.textContent="download",s.append(i),this.initCanvas()}initCanvas(){this.scene=new o.xsS,this.scene.background=new o.Ilk(200,200,200),this.scene.castShadow=!0,this.scene.background=new o.Ilk(15724527),this.camera=new o.cPb(30,this.host.clientWidth/this.host.clientHeight,1,5e3),this.camera.position.set(0,0,250),this.renderer=new o.CP7({antialias:!0,alpha:!0}),this.renderer.setPixelRatio(this.host.clientWidth/this.host.clientHeight),this.renderer.domElement.id="ThreeSandbox",this.renderer.setSize(this.host.clientWidth,this.host.clientHeight),this.host.appendChild(this.renderer.domElement),this.controls=new h.OrbitControls(this.camera,this.renderer.domElement),this.controls.enablePan=!0,this.controls.enableDamping=!0,this.controls.enableZoom=!0,this.controls.rotateSpeed=.2,this.controls.zoomSpeed=2,this.controls.update(),this.raycaster=new o.iMs,this.init()}init(){this.eventBind(),this.loop(),this.scene.add(l(50,10)),this.active=!0}eventBind(){this.renderer.domElement.onmousemove=t=>this.mouseMove(t),this.renderer.domElement.onmousedown=t=>this.mouseDown(t),this.renderer.domElement.onmouseup=t=>this.mouseUp(t)}mouseDown(t){this.INTERSECTED&&console.log(this.INTERSECTED.data)}mouseUp(t){}mouseMove(t){this.mouse.x=t.offsetX/this.host.clientWidth*2-1,this.mouse.y=-t.offsetY/this.host.clientHeight*2+1}loop(){if(requestAnimationFrame((()=>{this.loop()})),!this.active)return;this.controls.update(),this.raycaster.setFromCamera(this.mouse,this.camera);const t=this.raycaster.intersectObjects(this.sceneRayCast);t.length>0?this.INTERSECTED!==t[0].object&&(this.INTERSECTED&&this.INTERSECTED.material.emissive.setHex(this.INTERSECTED.currentHex),this.INTERSECTED=t[0].object,this.INTERSECTED.currentHex=this.INTERSECTED.material.emissive.getHex(),this.INTERSECTED.material.emissive.setHex(16711680),this.INTERSECTED.scale.x=1.1,this.INTERSECTED.scale.y=1.1,this.INTERSECTED.scale.z=1.1,console.log(this.INTERSECTED)):(this.INTERSECTED&&(this.INTERSECTED.material.emissive.setHex(this.INTERSECTED.currentHex),this.INTERSECTED.scale.x=1,this.INTERSECTED.scale.y=1,this.INTERSECTED.scale.z=1),this.INTERSECTED=void 0),this.renderer.render(this.scene,this.camera),this.render(),this.t+=.01}render(){console.log("render loop")}initVis(t,e,s){const a=new o.xo$(.5,10,10);for(let i=0;i<t.length;i++){const s=t[i],h=n(e[i][0],e[i][1],e[i][2]),r=new o.YBo({color:h});r.emissive=new o.Ilk(h);const l=new o.Kj0(a,r);l.position.x=s[0],l.position.y=s[1],l.position.z=s[2],l.scale.x=1,l.scale.y=1,l.scale.z=1,l.data=s,this.scene.add(l),this.sceneRayCast.push(l)}}}class C{constructor(t){this.div=void 0,this.div=t}async init(){const t=new v;await t.init(a.LAB);const e=t.getDataJson(),s=new m;await s.init(a.LAB);const i=s.getDataJson();for(let a=0;a<e.data.length;++a){const t=e.data[a].lab;let s=Number.MAX_SAFE_INTEGER,n=-1;for(let e=0;e<i.data.length;++e){const a=i.data[e].lab,o=T(t,a);o<s&&(s=o,n=e)}e.data[a].foundationData=i.data[n].name}const n=new w;await n.init(a.LAB);const o=n.getDataJson();for(let a=0;a<e.data.length;++a){const t=e.data[a].lab;let s=Number.MAX_SAFE_INTEGER,i=-1;for(let e=0;e<o.data.length;++e){const a=o.data[e].lab,n=T(t,a);n<s&&(s=n,i=e)}e.data[a].group=o.data[i].group}const h=new g;await h.init(a.LAB);const r=h.getDataJson(),l=new E;await l.init(a.LAB);const d=l.getDataJson();for(let a=0;a<r.data.length;++a){const t=r.data[a].lab;let e=Number.MAX_SAFE_INTEGER,s=-1;for(let a=0;a<d.data.length;++a){const i=d.data[a].lab,n=T(t,i);n<e&&(e=n,s=a)}r.data[a].namePersonalColorFabricTool=d.data[s].name}this.div.style.width="500px";let c=new b(this.div,"!!!!SKINTONE COLOR DATA, RGB Space");console.log(c);const u=[],p=[];for(let a=0;a<e.data.length;++a){const t=e.data[a];console.log(t),a>0&&(u.push(t.lab),p.push(t.rgb))}c.initVis(u,p,a.LAB);const C=[],y=[];for(let a=0;a<i.data.length;++a){const t=i.data[a];console.log(t),a>0&&(C.push(t.lab),y.push(t.rgb))}c.initVis(C,y,a.LAB);const R=[],S=[];for(let a=0;a<r.data.length;++a){const t=r.data[a];a>0&&(R.push(t.lab),S.push([255,0,0]))}c.initVis(R,S,a.LAB);const N=[],A=[];for(let a=0;a<d.data.length;++a){const t=d.data[a];a>0&&(N.push(t.lab),A.push([0,255,0]))}c.initVis(N,A,a.LAB);const I=[],x=[],B=new f;await B.init(a.LAB);const L=B.getDataJson();for(let a=0;a<L.data.length;++a){const t=L.data[a];a>0&&(I.push(t.lab),x.push(t.rgb))}for(let a=0;a<e.data.length;++a){const t=e.data[a].lab;let s=Number.MAX_SAFE_INTEGER,n=-1;for(let e=0;e<i.data.length;++e){const a=i.data[e].lab,o=Math.abs(Math.abs(t[2])-Math.abs(a[2]));o<s&&(s=o,n=e)}e.data[a].foundationDataByB=i.data[n].name}for(let a=0;a<e.data.length;++a){const t=e.data[a].lab;let s=Number.MAX_SAFE_INTEGER,n=-1;for(let e=0;e<i.data.length;++e){const a=i.data[e].lab,o=Math.abs(Math.abs(t[1])-Math.abs(a[1]));o<s&&(s=o,n=e)}e.data[a].foundationDataByA=i.data[n].name}console.log("final-skintoneData",e),console.log("final-PCCSColorData",r);let M=["name","foundationData","group","foundationDataByA","foundationDataByB","lab"];for(let a in e.data[0])console.log(a);let J=[M];for(let a=0;a<e.data.length;++a){const t=[];for(let s=0;s<M.length;++s){const i=e.data[a][M[s]];t.push(i)}J.push(t)}let O=new D(J,"skintoneData.csv");O.DownloadCSV(),M=["name","namePersonalColorFabricTool","lab"];for(let a in r.data[0])console.log(a);J=[M];for(let a=0;a<r.data.length;++a){const t=[];for(let e=0;e<M.length;++e){const s=r.data[a][M[e]];t.push(s)}J.push(t)}console.log(J),O=new D(J,"PCCSColorData.csv"),O.DownloadCSV()}}const T=(t,e)=>y(t[0],t[1],t[2],e[0],e[1],e[2]),y=(t,e,s,a,i,n)=>Math.sqrt((t-a)*(t-a)+(e-i)*(e-i)+(s-n)*(s-n));class R{static init(t){new R(t)}constructor(t){this.appThreeCanvas=void 0,this.id=void 0,this.div=void 0,this.id=t;const e=document.getElementById(t);e&&(this.div=e,this.div.style.width="100%",this.div.style.height="400px"),this.InitParam()}async InitParam(){const t=document.createElement("div");let e;t.style.width="100%",t.style.height="100px",this.div.append(t);e=new m,await e.init(a.LAB),this.appThreeCanvas=new u(t,e.getDataJson(),"FOUNDATION COLOR DATA, LAB Space",a.LAB),e.getDataJson();new C(this.div).init()}}class S{constructor(t){this.host=void 0,R.init(t)}}class N{constructor(t){this.divHost=void 0,this.divHost=document.getElementById(t),this.divHost.style.display="flex",this.divHost.style.alignItems="center";const e=document.createElement("div");e.style.marginLeft="auto",e.style.marginRight="auto",e.style.backgroundColor="#555",e.style.margin="50px",e.style.background="rgba(0,0,0,0)",this.divHost.appendChild(e),new S(t),console.log("color ai !!")}destroy(){for(;this.divHost.lastElementChild;)this.divHost.removeChild(this.divHost.lastElementChild)}}}}]);
//# sourceMappingURL=90834.92f11a52.chunk.js.map